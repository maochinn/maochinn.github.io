---
title: "FLTK Project Image Editing"
author: "帽捲"
date: 2020-07-23T09:02:56.695+0000
last_modified_at: 2021-08-10T04:22:34.079+0000
categories: ["Maochinn"]
tags: ["computer-graphics"]
description: "Project頁面:An Image Editing Program"
image:
  path: /assets/922e0d9b74b8/1*pNVb5srwlOzgmoWiEiqVrQ.png
render_with_liquid: false
---

### FLTK Project Image Editing

Project頁面: [An Image Editing Program](http://dgmm.csie.ntust.edu.tw/?ac1=courprojdetail_CG2012F_3&id=5ecf7b7a5118c&sid=5ecf7b7e49b85){:target="_blank"}


[![](https://opengraph.githubassets.com/e576cb03b569979946ce078ffec19b5ad9fc20f39ff5affdc8c7668dc22f45f7/maochinn/ImageEditing)](https://github.com/maochinn/ImageEditing){:target="_blank"}


除了提供用VS2019 x64寫好的\.sln\(專案檔\)，這邊另外提供可以用cmake自己編的檔案，這邊順便介紹如何簡單的寫cmake的檔案\(CmakeLists\.txt\)，而如何使用Cmake可以看 [FLTK的cmake過程](https://medium.com/maochinn/fltk%E7%AE%97%E6%98%AF%E8%A0%BB%E8%80%81%E7%9A%84%E4%B8%80%E5%80%8Bc-cf0c7924631a?source=---------7-----------------------){:target="_blank"} 。

這個Project就是要圖片處理，包含四大項目Quantinzed, Dithering, Filter, Resizing，並利用提供的FLTK的架構來完成。

\. \. \.

接下來看看CMAKE，首先先到Github把檔案clone下來


[![](https://opengraph.githubassets.com/e576cb03b569979946ce078ffec19b5ad9fc20f39ff5affdc8c7668dc22f45f7/maochinn/ImageEditing)](https://github.com/maochinn/ImageEditing){:target="_blank"}


把檔案下載下來直接用cmake就可以得到專案檔了。


![](/assets/922e0d9b74b8/1*pNVb5srwlOzgmoWiEiqVrQ.png)


可以看到這邊有4個專案，而ImageEditing應該要設為起始專案。

這邊可以解釋一下怎麼寫cmake的，cmake的好處就是可以跨平台，也就是我只要稍微設定一些基本的路徑，經過本地電腦的cmake就可以產生符合那台電腦設置的專案檔，所以我們可以來看一下CmakeLists\.txt這個檔案。


![](/assets/922e0d9b74b8/1*q31hV53jgCc4OBCMB73g6g.png)


cmake\_minimum\_required就是check你目前的cmake版本，project\(ImageEditing\)表示build出來的方案名稱，set\(SRC\_DIR \. \. \. \)就是Cmake語法中的設定變數，也就是設定SRC\_DIR這個變數是甚麼字串，$\{ \}則是取變數內的值的方式，include\_directories就是設定專案檔案include的路徑，會從這些路徑中找header檔。


![](/assets/922e0d9b74b8/1*Lbdr_FERlu477r3lzig5dw.png)


add\_Definitions\(“\-D\_XKEYCHECK\_H”\)就是增加專案preprocessor\(前置處理器\)的定義。


![](/assets/922e0d9b74b8/1*aoHPVMn973WEa3fvKAmVsQ.png)


add\_executable就是增加可執行的專案，第一個參數就是專案名稱，後面則是接著所有在那個專案裡面的檔案，add\_library則是增加一個lib，參數類似於add\_executable。

target\_link\_libraries則是可以設定專案可以連結到那些lib，這包含已經編譯好的lib跟這個方案內的專案產生的lib。


![](/assets/922e0d9b74b8/1*WjkuwtFM5L66qVdN3pdwxw.png)


這邊修正一下，上面的錯誤我就不撤掉了，當作對比，target\_link\_libraries應該要這樣寫，他才會知道debug跟Release用甚麼，前面的寫法看起來合理，但cmake下去會發現所有lib都被加進去所有組態\(debug跟Release\)。

原則上只要這樣設定就可以直接呼叫cmake來產生專案檔，然後就可以編譯。

這邊補充一個東西，可以把路徑define到我們的專案中。


![](/assets/922e0d9b74b8/1*sM27GiZh-RSovLP88X7F0A.png)


寫完之後，你在專案中就可以直接使用PROJECT\_DIR這個常數了


![](/assets/922e0d9b74b8/1*YxUYPC8Q3PfqsQISp-fY9w.png)


他對應的路徑就是Cmake中的PROJECT\_SOURCE\_DIR，就是你clone下來檔案的位址，當然你也可以替換成別的。



_[Post](https://medium.com/maochinn/fltk-project-image-editing-922e0d9b74b8){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._
