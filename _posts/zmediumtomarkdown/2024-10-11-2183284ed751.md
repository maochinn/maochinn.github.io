---
title: "ã€Omniverseã€‘å­¸ç¿’ç­†è¨˜â€Šâ€”â€Š02ï¼šKit Workshop SIGGRAPH 2022"
author: "å¸½æ²"
date: 2024-10-11T06:13:54.049+0000
last_modified_at: 2025-02-27T07:15:21.641+0000
categories: ["Maochinn"]
tags: ["omniverse","nvidia","siggraph","extension","101"]
description: "æœ¬ç¯‡å»¶çºŒã€Omniverseã€‘å­¸ç¿’ç­†è¨˜â€Šâ€”â€Š00ï¼šKit-based Developmentè·Ÿè‘—Learning Pathç¹¼çºŒå­¸ç¿’å‰©ä¸‹çš„Courseï¼Œåˆ†åˆ¥æ˜¯"
image:
  path: /assets/2183284ed751/0*kG7encqWuok540AH.png
render_with_liquid: false
---

### ã€Omniverseã€‘å­¸ç¿’ç­†è¨˜ â€” 02ï¼šKit Workshop SIGGRAPH 2022

English Version: [ã€Omniverseã€‘Development 101: Kit Workshop SIGGRAPH 2022](https://medium.com/@maochinn/omniverse-development-101-kit-workshop-siggraph-2022-310a189add0b?source=your_stories_page-------------------------------------){:target="_blank"}

æœ¬ç¯‡å»¶çºŒ [ã€Omniverseã€‘å­¸ç¿’ç­†è¨˜ â€” 00ï¼šKit\-based Development](https://medium.com/maochinn/omniverse-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-00-kit-based-development-a54ae65f22bf?source=your_stories_page-------------------------------------){:target="_blank"} è·Ÿè‘—Learning Pathç¹¼çºŒå­¸ç¿’å‰©ä¸‹çš„Course
#### ç›®éŒ„
- Build Beautiful, Custom UI for 3D Tools on NVIDIA Omniverse
- Easily Develop Advanced 3D Layout Tools on NVIDIA Omniverse
- How to Build Custom 3D Scene Manipulator Tools on NVIDIA Omniverse



![Figure 1: Omniverse Kit\-based Development Learning Path](/assets/2183284ed751/1*96JSVd1mtkEXLgmIJ4ecSg.png)

Figure 1: Omniverse Kit\-based Development Learning Path

å€¼å¾—æé†’çš„æ˜¯ï¼Œé€™ä¸‰å€‹courseéƒ½æ˜¯åŸºæ–¼Omniverse Laucherä¸­çš„Omniverse Codeï¼Œé€™å€‹ä¹‹å‰åœ¨ [ã€Omniverseã€‘å­¸ç¿’ç­†è¨˜ â€” 00ï¼šKit\-based Development](https://medium.com/maochinn/omniverse-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-00-kit-based-development-a54ae65f22bf?source=your_stories_page-------------------------------------){:target="_blank"} æéå¯ä»¥ä½¿ç”¨Kit Base Editorå–ä»£ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥åˆ©ç”¨kit\-app\-templateå‰µå»ºå‡ºä¾†ã€‚

å¦å¤–ï¼Œé€™3å€‹Courseé‚„æœ‰ä¸€å€‹å…±é€šé»ï¼Œä»–å€‘ä¼¼ä¹éƒ½æ˜¯ä¾†è‡ªæ–¼SIGGRAPH 2022çš„Workshopï¼Œå› æ­¤ä»–å€‘çš„èª²ç¨‹ä¸­ä½¿ç”¨çš„ç‰ˆæœ¬æ‰æœƒåœç•™åœ¨æ¯”è¼ƒèˆŠçš„æ™‚å€™ï¼Œå°è‡´å¯èƒ½æœ‰äº›èª²ç¨‹ä¸­ä½¿ç”¨åˆ°çš„extensionå·²ç¶“æ‰¾ä¸åˆ°äº†ï¼Œå¹¸é‹çš„æ˜¯ï¼Œæˆ‘å€‘å¯ä»¥åœ¨NVIDIAçš„Githubä¸Šæ‰¾åˆ°ä»–å€‘ã€‚

[**kit\-workshop\-siggraph2022/exts at v1\.0\.1 Â· NVIDIA\-Omniverse/kit\-workshop\-siggraph2022**](https://github.com/NVIDIA-Omniverse/kit-workshop-siggraph2022/tree/v1.0.1/exts){:target="_blank"} 
[_SIGGRAPH 2022 Workshop\. Contribute to NVIDIA\-Omniverse/kit\-workshop\-siggraph2022 development by creating an account onâ€¦_ github\.com](https://github.com/NVIDIA-Omniverse/kit-workshop-siggraph2022/tree/v1.0.1/exts){:target="_blank"}

è¦ç•™æ„çš„æ˜¯Courseä¸­ç”¨çš„tagæ˜¯v1\.0\.1ï¼Œè£é ­ç¸½å…±æœ‰5å€‹extensionsï¼Œå¯ä»¥ä¾ç…§è‡ªå·±çš„éœ€æ±‚æ·»åŠ åˆ°è‡ªå·±çš„applicationï¼Œé€™è£¡é¢å°±åŒ…å«äº†åœ¨ [ã€Omniverseã€‘å­¸ç¿’ç­†è¨˜ â€” 00ï¼šKit\-based Development](https://medium.com/maochinn/omniverse-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-00-kit-based-development-a54ae65f22bf?source=your_stories_page-------------------------------------){:target="_blank"} ä¸­è‡ªå·±åšçš„scatter extensionï¼Œè‡³æ–¼å¦‚ä½•æ·»åŠ extensionåˆ°è‡ªå·±çš„applicationæ–¹æ³•åœ¨ [ã€Omniverseã€‘å­¸ç¿’ç­†è¨˜ â€” 01ï¼šApplication and Extension](https://medium.com/maochinn/omniverse-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-01-application-and-extension-e765192086c8?source=your_stories_page-------------------------------------){:target="_blank"} éƒ½æœ‰èªªæ˜äº†ã€‚
### Build Beautiful, Custom UI for 3D Tools on NVIDIA Omniverse

ç°¡å–®ä¾†èªªï¼Œé€™å€‹courseå°±æ˜¯åŸºæ–¼Scatteré€™å€‹Extensionå»å¢åŠ ä¸€äº›Custom UIä»¥åŠåŠŸèƒ½ã€‚

[**Course \| NVIDIA**](https://learn.nvidia.com/courses/course?course_id=course-v1:DLI+S-OV-08+V1&unit=block-v1:DLI+S-OV-08+V1+type@vertical+block@d5674416bd004c8fae8b0bd2fd7249f5){:target="_blank"} 
[_Edit description_ learn\.nvidia\.com](https://learn.nvidia.com/courses/course?course_id=course-v1:DLI+S-OV-08+V1&unit=block-v1:DLI+S-OV-08+V1+type@vertical+block@d5674416bd004c8fae8b0bd2fd7249f5){:target="_blank"}

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ æ˜¯ç”¨è‡ªå·±åšçš„extensionçš„è©±ï¼Œéœ€è¦åšä¸€äº›èª¿æ•´ï¼Œä¾‹å¦‚ï¼ŒæŒ‰éˆ•çš„click call backfuctionè¦å› ç‚ºè¦å¸¶å…¥åƒæ•¸é€²å»ï¼Œæ‰€ä»¥è¦å¤šç”¨ä¸€å±¤åŒ¿åå‡½å¼åŒ…è‘—ï¼Œæ‰€ä»¥è¦æ”¹é€™å€‹å‡½å¼
```python
ui.Button(
                        " S ",
                        width=0,
                        height=0,
                        style={"margin": 0},
                        clicked_fn=self._on_get_selection,
                        tooltip="Get From Selection",
                    )
```

å…¶ä¸­ï¼Œ _clicked\_fn_ è¦æ”¹æˆé€™æ¨£
```python
clicked_fn=lambda:self._on_get_selection(self._source_prim_model),
```

å¦å¤–ï¼Œ _\_on\_get\_selection_ å‰‡è¦æ”¹æˆ
```python
def _on_get_selection(self, model):
        """Called when tthe user presses the "Get From Selection" button"""
        model.as_string = ", ".join(get_selection())
```

å¦ä¸€å€‹æŒ‰éˆ•ä¹Ÿæ˜¯ç›¸åŒçš„é“ç†ï¼Œè¦æ”¹æˆé€™æ¨£
```python
ui.Button("Scatter", clicked_fn=lambda:self._on_scatter(self._source_prim_model, self._scatter_prim_model))
```

ä»¥åŠæ–¹æ³•è¦æ”¹æˆåƒå…©å€‹åƒæ•¸
```python
def _on_scatter(self, source_model, scatter_model):
        """Called when the user presses the "Scatter" button"""
        prim_names = [i.strip() for i in source_model.as_string.split(",")]
        if not prim_names:
            prim_names = get_selection()

if not prim_names:
            # TODO: "Can't clone" message
            pass

transforms = scatter(
            count=[m.as_int for m in self._scatter_count_models],
            distance=[m.as_float for m in self._scatter_distance_models],
            randomization=[m.as_float for m in self._scatter_random_models],
            id_count=len(prim_names),
            seed=self._scatter_seed_model.as_int,
        )

duplicate_prims(
            transforms=transforms,
            prim_names=prim_names,
            target_path=scatter_model.as_string,
            mode=self._scatter_type_model.get_current_item().as_string,
        )
```

æˆ–è€…å°±æ˜¯ç›´æ¥æ·»åŠ ç¾æˆçš„extension


![Figure 2: Scatter Tool \(omni\.example\.ui\_scatter\_tool\)](/assets/2183284ed751/0*Etk-7IE3e_qQX-_m.png)

Figure 2: Scatter Tool \(omni\.example\.ui\_scatter\_tool\)

[**kit\-workshop\-siggraph2022/exts/omni\.example\.ui\_scatter\_tool at v1\.0\.1 Â·â€¦**](https://github.com/NVIDIA-Omniverse/kit-workshop-siggraph2022/tree/v1.0.1/exts/omni.example.ui_scatter_tool){:target="_blank"} 
[_SIGGRAPH 2022 Workshop\. Contribute to NVIDIA\-Omniverse/kit\-workshop\-siggraph2022 development by creating an account onâ€¦_ github\.com](https://github.com/NVIDIA-Omniverse/kit-workshop-siggraph2022/tree/v1.0.1/exts/omni.example.ui_scatter_tool){:target="_blank"}


[![](https://opengraph.githubassets.com/6bb422c307af8ebb2dfd1459287711f2c82a3170eb107b415ebd5ed175dd4712/NVIDIA-Omniverse/kit-extension-sample-scatter)](https://github.com/NVIDIA-Omniverse/kit-extension-sample-scatter){:target="_blank"}


Courseæœ€å¾Œæåˆ°çš„omni\.kit\.window\.inspectoré€™å€‹extensionç›®å‰æˆ‘æ‰¾ä¸åˆ°ï¼Œä¼¼ä¹å¯ä»¥ç”¨å®ƒä¾†ç›´æ¥åœ¨ç•«é¢ä¸Šèª¿æ•´UIï¼Œå¯ä»¥å…ˆçœ‹previewä¸æœƒå½±éŸ¿åˆ°codeï¼Œä½†æ˜¯ä¼¼ä¹ä¹Ÿæ˜¯éæœŸäº†ï¼Œæˆ–æ˜¯æ›äº†åå­ï¼Œç¸½ä¹‹æˆ‘æ‰¾ä¸åˆ°ã€‚
### Easily Develop Advanced 3D Layout Tools on NVIDIA Omniverse

ç¹¼çºŒåŸºæ–¼Scatteré€™å€‹Extensionä¿®æ”¹ï¼Œæ¯”è¼ƒé‡è¦çš„æ˜¯ï¼Œä¿®æ”¹çš„éƒ¨åˆ†æœ‰ç‰½æ¶‰åˆ°transformationï¼Œå› æ­¤é€™é‚Šç¨å¾®ç´€éŒ„ä¸€ä¸‹é‡è¦çš„æ±è¥¿ã€‚

[**Course Detail \| NVIDIA**](https://learn.nvidia.com/courses/course-detail?course_id=course-v1:DLI+S-OV-07+V1){:target="_blank"} 
[_About Course Objectives Topics Covered Course Outline Stay Informed Contact Us_ learn\.nvidia\.com](https://learn.nvidia.com/courses/course-detail?course_id=course-v1:DLI+S-OV-07+V1){:target="_blank"}

é¦–å…ˆï¼Œåœ¨pxrä¸­æœ‰ä¸€å€‹Gf\(Graphics Foundations\)ï¼Œå…¶ä¸­æœ‰ä¸€äº›çŸ©é™£è¨ˆç®—ä¹‹é¡çš„å·¥å…·ã€‚
```python
from pxr import Gf
```

å…¶ä¸­ï¼Œpxrå°±æ˜¯pixarï¼ŒGfçš„matrixæ˜¯row\-major orderï¼Œæ‡‰è©²æ˜¯å› ç‚º\.usdè£é¢çš„matrixæ˜¯row\-majorçš„ï¼Œè€ŒOmniverseæ˜¯åŸºæ–¼pixaræ¨å‡ºçš„\.usdæª”æ¡ˆæ ¼å¼æ‰€å»ºç«‹çš„ã€‚

[**Gf module â€” pxr\-usd\-api 105\.0\.2 documentation**](https://docs.omniverse.nvidia.com/kit/docs/pxr-usd-api/105.0.2/pxr/Gf.html#pxr.Gf.Matrix4d){:target="_blank"} 
[_The transformation matrix is applied as follows: the position and the direction vector are transformed with the givenâ€¦_ docs\.omniverse\.nvidia\.com](https://docs.omniverse.nvidia.com/kit/docs/pxr-usd-api/105.0.2/pxr/Gf.html#pxr.Gf.Matrix4d){:target="_blank"}

ä½†æ˜¯è¦æ³¨æ„ï¼ŒOpenUSDçš„çŸ©é™£ä¹˜æ³•æ˜¯pre\-multiplication\(å‰ä¹˜\)ï¼Œå‘é‡æœƒåœ¨çŸ©é™£çš„å·¦å´ï¼Œå‘é‡å‰‡æ˜¯row vectorï¼Œæˆ‘å€‘æˆ²ç¨±æ˜¯èººè‘—çš„vectorã€‚ç›¸å°ä¾†èªªï¼ŒOpenGLå‰‡æ˜¯post\-multiplication\(å¾Œä¹˜\)ï¼Œå‘é‡æ˜¯åœ¨çŸ©é™£å³å´ï¼Œæ˜¯colume vectorã€‚

å› æ­¤ï¼ŒOpenUSDçš„çŸ©é™£ç›¸ä¹˜çš„é †åºæœƒè·ŸOpenGLç›¸åï¼Œèˆ‰ä¾‹ä¾†èªªå°±æ˜¯Scale\*Rotate\*Translateï¼Œå‘é‡æœƒåœ¨å·¦å´ï¼ŒçŸ©é™£æœƒå¾€å³ä¹˜
```python
transformation = (
    Gf.Matrix4d().SetScale(
        Gf.Vec3d(
            1.0,
            1.0,
            1.0,
        ))
    * Gf.Matrix4d().SetTranslate(
        Gf.Vec3d(
            0.0,
            0.0,
            0.0,
        ))
)
```

å› æ­¤ï¼Œå¯ä»¥é€éTranslationçš„é€™ä¸‰ç¨®æ‹¿æ³•æ³¨æ„åˆ°ï¼Œtransformation matrixä¸­çš„translation vectoræ˜¯åœ¨æœ€å¾Œä¸€å€‹rowï¼Œä¹Ÿå°±æ˜¯çŸ©é™£ä¸­æœ€åº•ä¸‹çš„é‚£ä¸€æ’ã€‚
```python
matrix= Gf.Matrix4d(1)

matrix.ExtractTranslation()
matrix.GetRow(3)
matrix[3]
```

é€™é‚Šä¹Ÿå°±å¯ä»¥çŸ¥é“matrix\[i\] \[j\]æ˜¯æŒ‡ç¬¬iå€‹rowï¼Œç¬¬jå€‹colï¼Œå…¶ä¸­translateå°±æœƒæ”¾åœ¨æœ€ä¸‹é¢çš„é‚£å€‹rowã€‚å¦å¤–è£œå……ä¸€é»ï¼Œä¸çŸ¥é“ç‚ºç”šéº¼scaleæ²’æœ‰é–‹APIï¼Œä¼¼ä¹åªèƒ½é€™æ¨£å»æ‹¿
```python
matrix= Gf.Matrix4d(1)

scale_vector = (matrix.GetRow3(0).GetLength(), matrix.GetRow3(1).GetLength(), matrix.GetRow3(2).GetLength())
```

é€™é‚Šæœ‰å€‹é»è¦æ³¨æ„çš„æ˜¯ï¼ŒçŸ©é™£çš„é‹ç®—åˆ†ç‚ºpre\-multiplicationï¼Œpost\-multiplicationï¼ŒåŒæ™‚çŸ©é™£çš„è¡¨ç¤ºåˆ†ç‚ºrow\-majorå’Œcolumn\-majorï¼Œå¦‚æœå…‰çœ‹å–®ä¸€çŸ©é™£å¸¸å¸¸æœƒææ··ï¼Œä¾‹å¦‚pre\-multiplicationã€row\-majorçš„çŸ©é™£å¦‚æœæŒ‰ç…§é †åºprintå‡ºä¾†æœƒç™¼ç¾translation vectoræ˜¯åº•ä¸‹æœ€å¾Œä¸€æ’ï¼Œä½†æ˜¯post\-multiplicationã€column\-majorçš„çŸ©é™£printä¹Ÿæœƒç™¼ç¾ä¸€æ¨£çš„äº‹æƒ…ï¼Œä½†æ˜¯å…©è€…å¤§ä¸ç›¸åŒï¼Œå‰è€…printå‡ºä¾†çš„æœ€å¾Œä¸€æ’æ˜¯rowï¼Œå¾Œè€…printå‡ºä¾†çš„æœ€å¾Œä¸€æ’æ˜¯colã€‚

ç¸½ä¹‹ï¼Œåªè¦çŸ©é™£æ˜¯pre\-multiplicationï¼Œé‚£éº¼translation vectorå°±æ˜¯row vectorï¼Œpost\-multiplicationçš„çŸ©é™£ä¸­çš„translation vectorå°±æ˜¯column vectorï¼Œåªæ˜¯æ€éº¼å„²å­˜matrixåˆå€åˆ†æˆrow\-majorå’Œcolumn\-majorã€‚


[![](https://opengraph.githubassets.com/fc53e3ee365ef932aae86da74a37a34e8a5853e72c4bd7e36ab52c92e7db781f/Vochsel/vochsel_wiki)](https://github.com/Vochsel/vochsel_wiki/blob/master/usd.md){:target="_blank"}


[**Universal Scene Description: GfMatrix4d Class Reference**](https://openusd.org/dev/api/class_gf_matrix4d.html){:target="_blank"} 
[_Accesses an indexed row i of the matrix as an array of 4 double values so that standard indexing \(such as m\[0\] \[1\] \)â€¦_ openusd\.org](https://openusd.org/dev/api/class_gf_matrix4d.html){:target="_blank"}

[**Universal Scene Description: UsdGeom : USD Geometry Schema**](https://openusd.org/release/api/usd_geom_page_front.html#UsdGeom_LinAlgBasics){:target="_blank"} 
[_UsdGeom defines the 3D graphics\-related prim and property schemas that together form a basis for interchanging geometryâ€¦_ openusd\.org](https://openusd.org/release/api/usd_geom_page_front.html#UsdGeom_LinAlgBasics){:target="_blank"}
### How to Build Custom 3D Scene Manipulator Tools on NVIDIA Omniverse

Courseç‚ºå…©å€‹éšæ®µï¼Œä½†åŸºæœ¬ä¸Šåªç®—æ˜¯ç«åŠ›å±•ç¤ºï¼Œå¯¦éš›ä¸Šçš„æ“ä½œä¸å¤šï¼Œä¸»è¦æ˜¯å‘Šè¨´ä½ extensionå¯ä»¥åšåˆ°ç”šéº¼äº‹æƒ…ï¼Œè®“ä½ è‡ªå·±å¯ä»¥åŸºæ–¼é€™äº›extensionå†å»é–‹ç™¼è‡ªå·±çš„extensionã€‚

[**Course Detail \| NVIDIA**](https://learn.nvidia.com/courses/course-detail?course_id=course-v1:DLI+S-OV-06+V1){:target="_blank"} 
[_About Course Objectives Topics Covered Course Outline Stay Informed Contact Us_ learn\.nvidia\.com](https://learn.nvidia.com/courses/course-detail?course_id=course-v1:DLI+S-OV-06+V1){:target="_blank"}

é¦–å…ˆæ˜¯Widget Infoï¼Œå¯ä»¥åœ¨3Dç‰©ä»¶æ—é‚Šä»¥screen spaceçš„æ–¹å¼é¡¯æ˜¯ç‰©ä»¶çš„è³‡è¨Šï¼Œå¯ä»¥å¾é€™é‚Šè‡ªå·±æ·»åŠ extension


![Figure 3: Widget Info \(omni\.example\.ui\_scene\.widget\_info\)](/assets/2183284ed751/0*pfv5IlXAIPSPTFYQ.png)

Figure 3: Widget Info \(omni\.example\.ui\_scene\.widget\_info\)

[**kit\-workshop\-siggraph2022/exts/omni\.example\.ui\_scene\.widget\_info at v1\.0\.1 Â·â€¦**](https://github.com/NVIDIA-Omniverse/kit-workshop-siggraph2022/tree/v1.0.1/exts/omni.example.ui_scene.widget_info){:target="_blank"} 
[_SIGGRAPH 2022 Workshop\. Contribute to NVIDIA\-Omniverse/kit\-workshop\-siggraph2022 development by creating an account onâ€¦_ github\.com](https://github.com/NVIDIA-Omniverse/kit-workshop-siggraph2022/tree/v1.0.1/exts/omni.example.ui_scene.widget_info){:target="_blank"}

åªæ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œå¯èƒ½æ˜¯ç‰ˆæœ¬çš„é—œä¿‚ï¼Œæœ‰äº›APIå·²ç¶“éæ™‚äº†ï¼Œå› æ­¤è¦å»æ”¹widget\_info\_model\.pyä¸­çš„UsdLux\.Lightæ”¹æˆUsdLux\.RectLightï¼Œä¸ç„¶æœƒç„¡æ³•æ·»åŠ å°è‡´å ±éŒ¯ï¼Œé›–ç„¶ç¨‹å¼ç¢¼æ„æ€ä¸å¤ªä¸€æ¨£ï¼Œä½†æ˜¯è‡³å°‘èƒ½è·‘èµ·ä¾†


![Figure 4: Compare with old and modified version](/assets/2183284ed751/1*aGEZhFK_O_EGA9D3oqIZMA.png)

Figure 4: Compare with old and modified version

ç¬¬äºŒå€‹éƒ¨åˆ†æ˜¯Light Manipulatorï¼Œå¯ä»¥åœ¨viewportä¸­ç›´æ¥èª¿æ•´Rectlight\(å¹³é¢å…‰å…‰æº\)çš„ç¯„åœä»¥åŠäº®åº¦/å¼·åº¦ï¼Œä¸€æ¨£å¯ä»¥è‡ªå·±å®‰è£


![Figure 5: Light Manipulator \(omni\.example\.ui\_scene\.light\_manipulator\)](/assets/2183284ed751/0*kG7encqWuok540AH.png)

Figure 5: Light Manipulator \(omni\.example\.ui\_scene\.light\_manipulator\)

[**kit\-workshop\-siggraph2022/exts/omni\.example\.ui\_scene\.light\_manipulator at v1\.0\.1 Â·â€¦**](https://github.com/NVIDIA-Omniverse/kit-workshop-siggraph2022/tree/v1.0.1/exts/omni.example.ui_scene.light_manipulator){:target="_blank"} 
[_SIGGRAPH 2022 Workshop\. Contribute to NVIDIA\-Omniverse/kit\-workshop\-siggraph2022 development by creating an account onâ€¦_ github\.com](https://github.com/NVIDIA-Omniverse/kit-workshop-siggraph2022/tree/v1.0.1/exts/omni.example.ui_scene.light_manipulator){:target="_blank"}

é€™å€‹éƒ¨åˆ†ä¹Ÿæœ‰äº›æ±è¥¿è¦èª¿æ•´ï¼Œè¦åœ¨extension\.pyä¸­æ·»åŠ  _super\( \) \. \_ \_init\_ \_ \( \)_ ï¼Œå¦å‰‡æœƒä¸€æ¨£æœƒå ±éŒ¯


![Figure 6](/assets/2183284ed751/1*H8OVrL3tibOS9__FbK_GBw.png)

Figure 6

ä½†æ˜¯é€™é‚Šè¦æ³¨æ„å¦‚æœä½ æ˜¯ç”¨Courseé™„çš„stage\.usdçš„è©±ï¼Œå ´æ™¯ä¸­çš„rectlightä¸æœƒé¡¯ç¤ºå¦‚Figure 4ä¸­çš„é»ƒè‰²ç·šæ¢ï¼Œä½†æ˜¯å¦‚æœè‡ªå·±æ‰‹å‹•createæ–°çš„rectlightå‰‡æœƒæ­£å¸¸é¡¯ç¤ºã€‚

äº‹å¯¦ä¸Šï¼Œé€™ä¸¦ä¸æ˜¯ç¨‹å¼ç¢¼æˆ–æ˜¯APIçš„å•é¡Œï¼Œæ‡‰è©²æ˜¯\.usdçš„æ ¼å¼æ”¹è®Šï¼Œæˆ–æ˜¯omniverseè®€å–\.usdçš„è¦å‰‡æ”¹è®Šï¼Œå› ç‚ºå¦‚æœæˆ‘å€‘å°‡å…©å€‹Rectlightä¸€èµ·è¼¸å‡ºæˆ\.usdaï¼Œæ‰“é–‹å…©ç›¸æ¯”è¼ƒå°±æœƒçŸ¥é“ç‚ºä»€éº¼

é€™é‚Šæˆ‘å°±ç›´æ¥è¬›è©²å¦‚ä½•èª¿æ•´ï¼Œå ´æ™¯æœ¬ä¾†çš„Rectlightå¦‚ä¸‹
```java
        def RectLight "RectLight" (
            prepend apiSchemas = ["ShapingAPI"]
        )
        {
            color3f color = (0.19691122, 0.018246593, 0.15069367)
            float height = 232.31076
            float intensity = 24483.492
            float shaping:cone:angle = 180
            float shaping:cone:softness
            float shaping:focus
            color3f shaping:focusTint
            asset shaping:ies:file
            token visibility = "inherited"
            float width = 204.63292
            double3 xformOp:rotateXYZ = (-10.797770015817491, -160.58920866323336, 4.920241161909303)
            double3 xformOp:scale = (1, 1, 1)
            double3 xformOp:translate = (-5.962081968369314e-14, 150.00000000000003, -350.00000000000006)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:rotateXYZ", "xformOp:scale"]
        }
```

æˆ‘å€‘éœ€è¦è¦åœ¨éƒ¨åˆ†åƒæ•¸å‰é¢åŠ ä¸Š _inputs:_
```java
def RectLight "RectLight" (
    prepend apiSchemas = ["ShapingAPI"]
)
{
    color3f color = (0.19691122, 0.018246593, 0.15069367)
    float inputs:height = 232.31076
    float inputs:intensity = 24483.492
    float inputs:shaping:cone:angle = 180
    float inputs:shaping:cone:softness
    float inputs:shaping:focus
    color3f shaping:focusTint
    asset shaping:ies:file
    token visibility = "inherited"
    float inputs:width = 204.63292
    double3 xformOp:rotateXYZ = (-10.797770015817491, -160.58920866323336, 4.920241161909303)
    double3 xformOp:scale = (1, 1, 1)
    double3 xformOp:translate = (-5.962081968369314e-14, 150.00000000000003, -350.00000000000006)
    uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:rotateXYZ", "xformOp:scale"]
}
```

å…¶ä¸­ _heightã€intensityã€width_ ï¼Œé€™ä¸‰å€‹è®Šæ•¸å› ç‚ºæ²’æœ‰åŠ  _inputs:_ å°è‡´è…³æœ¬è®€ä¸åˆ°æ•¸å€¼ï¼Œç•¶ç„¶ä¹Ÿå°±ç®—ä¸å‡ºæ±è¥¿ï¼Œä¹Ÿå°±é€ æˆextensionä¸æœƒé¡¯ç¤ºä»»ä½•ç·šæ¢ã€‚

é¡ä¼¼çš„extensionåœ¨é€™é‚Šä¹Ÿå¯ä»¥æ‰¾åˆ°sample


[![](https://opengraph.githubassets.com/dc830dd893d0e51ae6f2f058fb333107c936e16aa48ccc41c585c261eff84342/NVIDIA-Omniverse/kit-extension-sample-ui-scene)](https://github.com/NVIDIA-Omniverse/kit-extension-sample-ui-scene/tree/main){:target="_blank"}


[**UsdLux module \- Omniverse Kit 106\.1\.0 documentation**](https://docs.omniverse.nvidia.com/kit/docs/pxr-usd-api/latest/pxr/UsdLux.html){:target="_blank"} 
[_Summary: The UsdLux module provides a representation for lights and related components that are common to many graphicsâ€¦_ docs\.omniverse\.nvidia\.com](https://docs.omniverse.nvidia.com/kit/docs/pxr-usd-api/latest/pxr/UsdLux.html){:target="_blank"}
### çµè«–

å¯ä»¥é€éé€™ä¸‰å€‹courseå¤§æ¦‚çŸ¥é“extensionå¯¦éš›ä¸Šçš„å¯ä»¥æ€éº¼æ‡‰ç”¨ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨NVIDIAç¾æœ‰çš„sampleç¹¼çºŒå­¸ç¿’ï¼Œä¹Ÿå¯ä»¥å¾ä¸­ç™¼ç¾ï¼Œé›–ç„¶éƒ¨åˆ†ç¨‹å¼ç¢¼éæ™‚å°è‡´éœ€è¦èª¿æ•´éƒ¨åˆ†ç¨‹å¼ç¢¼ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†çš„ç¨‹å¼ç¢¼éƒ½ä»ç„¶å¯è¡Œï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥è—‰æ­¤è‡ªå·±è©¦è‘—debugã€‚

åªæ˜¯æœ‰ä¸€é»æ¯”è¼ƒå€¼å¾—ç•™æ„çš„æ˜¯\.usdæª”æ¡ˆï¼Œåœ¨ä¸åŒçš„èª²ç¨‹ä¸­éƒ½æœ‰æåˆ°ï¼Œä¾‹å¦‚transformationè·Ÿåœ¨Attributeä¸­æ·»åŠ  _inputs:_ å­—æ®µï¼Œä¼¼ä¹ä»–å€‘èˆ‡Omniverseçš„é—œä¿‚ååˆ†å¯†åˆ‡ï¼Œäº‹å¯¦ä¸Šï¼ŒOmniverseæ­£æ˜¯åŸºæ–¼USDæ‰€å»ºç«‹çš„ï¼Œæˆ‘å€‘å°‡åœ¨ä¸‹ä¸€ç¯‡å°ˆæ³¨è¨è«–ä»–å€‘ã€‚


> The platform for developing OpenUSD applications for industrial digitalization and physical AI simulation\. 






[![](https://www.nvidia.com/content/dam/en-zz/Solutions/gtcf20/omniverse/refresh-open-beta/nvidia-omniverse-og-image-1200x630.jpg)](https://www.nvidia.com/en-us/omniverse/){:target="_blank"}


æ„Ÿè¬ä½ çš„é–±è®€ï¼Œå¦‚æœä½ å°æˆ‘çš„æ–‡ç« å°ä½ æœ‰æ‰€å¹«åŠ©æˆ–æ˜¯æ„è¦‹æ­¡è¿å›è¦†ï¼Œå¦‚æœä½ æƒ³è¦æ”¯æŒæˆ‘å¯ä»¥ï¼š
- æ‹å€‹æ‰‹ğŸ‘‹ï¼Œæˆ–æ˜¯åˆ†äº«ä¸€äº›æƒ³æ³•ğŸ’¬
- [è¿½è¹¤æˆ‘çš„é é¢](https://medium.com/@maochinn){:target="_blank"}
- [è¨‚é–±æˆ‘çš„å°ˆæ¬„](https://medium.com/maochinn){:target="_blank"}
- [é€éLinkedInè¯ç¹«æˆ‘](https://www.linkedin.com/in/chih-wei-chang-6526801b2/){:target="_blank"}


æˆ–æ˜¯è§€çœ‹æˆ‘å…¶ä»–ç³»åˆ—æ–‡ç« 
- [ã€Omniverseã€‘å­¸ç¿’ç­†è¨˜ â€” 03ï¼šOpenUSD](../be14a4a5704f/)
- [ã€é›»è…¦åœ–å­¸ã€‘å­¸ç¿’ç­†è¨˜ â€” 00ï¼šOpenGL](../fa7105f59ecd/)
- [ã€Blenderã€‘Geometry Node åƒç´ é¢¨](../1870e1ad5fc3/)
- [ã€Unityã€‘Displacement Map](../f588242049c6/)



_[Post](https://medium.com/maochinn/omniverse-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-02-kit-workshop-siggraph-2022-2183284ed751){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._
