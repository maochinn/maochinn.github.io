---
title: "Blender 2.8 python"
author: "帽捲"
date: 2020-05-16T07:34:36.505+0000
last_modified_at: 2025-03-14T02:05:12.669+0000
categories: ["Maochinn"]
tags: ["blender"]
description: "這邊紀錄一些blender 2.8 python的相關操作"
image:
  path: /assets/b81f6fd150f2/1*VK8S_Xq8XoUIe7CR7DLc3A.png
render_with_liquid: false
---

### Blender 2\.8 Python Script

這邊紀錄一些自己寫的腳本，通常是一些簡單的工具，目前都直接寫在\.blend


[![](https://opengraph.githubassets.com/b87b27a400b7812cec71779d4c5c8477f8021096ba0744be580aa68a9459cf8d/maochinn/BlenderSimpleScript)](https://github.com/maochinn/BlenderSimpleScript){:target="_blank"}

#### Ray cast

選擇一個相機，會依照blender裡的resolution做對應的ray，然後把有cast到的線產生出來，建議resolution不要太大\(預設192\*108\)，然後面數不要太多。

[**Scene\(ID\) \- Blender Python API**](https://docs.blender.org/api/current/bpy.types.Scene.html){:target="_blank"} 
[_enum in \['NONE', 'INVERSE', 'INVERSE\_CLAMPED', 'LINEAR', 'LINEAR\_CLAMPED', 'EXPONENT', 'EXPONENT\_CLAMPED'\], default…_ docs\.blender\.org](https://docs.blender.org/api/current/bpy.types.Scene.html){:target="_blank"}


![](/assets/b81f6fd150f2/1*VK8S_Xq8XoUIe7CR7DLc3A.png)


這邊補充一個別人做的蠻方便的工具，利用depth map回推point cloud

[**Calculating 3D world co\-ordinates using depth map and camera intrinsics**](https://blender.stackexchange.com/questions/204886/calculating-3d-world-co-ordinates-using-depth-map-and-camera-intrinsics){:target="_blank"} 
[_begingroup$ Several things to take into account to rebuild the rendered mesh\. Focal angle, in particular to…_ blender\.stackexchange\.com](https://blender.stackexchange.com/questions/204886/calculating-3d-world-co-ordinates-using-depth-map-and-camera-intrinsics){:target="_blank"}

理論上跟前面提到的方法是同個概念，只是他利用rendering做完了ray cast，我們只需要根據depth map回推那些點就好。也就是說，他用GPU做完ray cast，所以非常快，至少比前面用python慢慢做ray cast快多了。

[**Depth Pass to Point\-cloud \(with AN\)**](https://blender.stackexchange.com/questions/210536/depth-pass-to-point-cloud-with-an){:target="_blank"} 
[_begingroup$ First off: A viewport render of a overlayed, 400x400, colored point cloud and a accuracy comparison: This…_ blender\.stackexchange\.com](https://blender.stackexchange.com/questions/210536/depth-pass-to-point-cloud-with-an){:target="_blank"}
#### Render image & process

render一張照片，然後利用PIL把圖片讀回來，並利用numpy, scipy處理圖片。

這邊放一些有找到別人寫好的blender應用。

[**Projecting Texture onto surface from point**](https://blender.stackexchange.com/questions/70717/projecting-texture-onto-surface-from-point){:target="_blank"} 
[_begingroup$ You can project an image from a point onto a surface using Vector Maths\. Start with two reference points …_ blender\.stackexchange\.com](https://blender.stackexchange.com/questions/70717/projecting-texture-onto-surface-from-point){:target="_blank"}

這個可以把指定的texture mapping到物體上面。
#### 補充

如果要增加module，可以透過blender已經幫你安裝好的pip。你可以先透過blender的python command找到blender的python路徑


> &gt;&gt;&gt; import sys
 

> &gt;&gt;&gt; sys\.exec\_prefix
 

> ‘D:\\ \\blender\_mao\\ \\build\\ \\bin\\ \\Release\\ \\2\.82\\ \\python’ 





然後到該路徑\(例如: _D:\\blender\_mao\\build\\bin\\Release\\2\.82\\python_ \)，開cmd


> &gt;\. \\bin\\python\.exe \-m pip 





這樣就可以用pip了，例如我們可以安裝scipy


> &gt;\. \\bin\\python\.exe \-m pip install scipy 





另一種方式是開啟Blender後在Console或是Script的地方執行
```cpp
import subprocess
import sys
subprocess.check_call([sys.executable, "-m", "pip", "install", "scipy"])
```

這樣他就會自動在Blender的Python環境下安裝了。

[**Blender 3D: Blending Into Python/Cookbook**](https://en.wikibooks.org/wiki/Blender_3D:_Blending_Into_Python/Cookbook#Mesh_Ray_Intersect){:target="_blank"} 
[_This runs in linux \(probably any unix\), and launches The Gimp\. It could probably be modified to launch Photoshop in…_ en\.wikibooks\.org](https://en.wikibooks.org/wiki/Blender_3D:_Blending_Into_Python/Cookbook#Mesh_Ray_Intersect){:target="_blank"}



_[Post](https://medium.com/maochinn/blender-2-8-python-b81f6fd150f2){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._
