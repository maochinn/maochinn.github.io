---
title: "Blender 2.8 建置專案"
author: "帽捲"
date: 2020-03-21T04:55:43.298+0000
last_modified_at: 2020-11-24T05:36:22.796+0000
categories: ["Maochinn"]
tags: ["blender"]
description: "Building Blender"
render_with_liquid: false
---

### Blender 2\.8 建置專案

因為研究所需求，要用blender來開發東西，這邊順便紀錄一下怎麼處理一些東西。

剛好最近2\.8版也出來一陣子了，主要介紹怎麼把整個code pull下來，然後建置出來。\(如果只是要跑程式的話，也可以直接去載個steam上面也有\)

原則上只要照著 [官網](https://wiki.blender.org/wiki/Building_Blender/Windows){:target="_blank"} 上的步驟去做就好了，但這邊還是稍微解釋一下。

首先是前面要安裝的的tools，


> VS2019，要裝C\+ \+的IDE 





> SlikSVN，有一些資源是在Subversion上的 





> Gitcode，都放在git上 





> CMakebuild，那些code用的 




然後接下來這邊都是用cmd來做的，把source code載下來，然後這邊要建一個獨立的資料夾blender\-git\(名子可以自己取，我自己是建在D槽\)


> cd C:\\blender\-git 





> git clone git://git\.blender\.org/blender\.git 





載完會發現多一個” _blender_ ”的資料夾，裡面會有一個” _make\.bat_ ”，它可以幫你做一些事，包含下面的make update

接下來把libraries載下來，如果你要自己用cmake建議這個還是要執行，這步其實就是他會去檢查指定的路徑有沒有lib，然後用SVN抓下來，所以如果沒有裝SVN就沒辦法執行，沒有那些lib後續cmake就會跳錯。


> cd C:\\blender\-git\\blender 





> make update 





載完會發現多了一個” _lib_ ”資料夾，這個就是SVN抓下來的lib，不要更改位置，這樣cmake才偵測的到。

所以現在的結構會變成
#### blender\-git/
#### ├──blender/
#### └──lib/

接下來就要建專案檔跟build，這一步可以自己用cmake自己設定，然後自己開專案檔建置，也可以用官方提供的” _make\.bat_ ”的 _make full_ 來幫你做，他會直接幫你cmake\+compile。


> cd C:\\blender\-git\\blender 





> make full 





如果是用make full成功的話會顯示下面的東西


> Blender successfully built, run from: C:\\blender\-git\\build\_windows\_Full\_x64\_vc14\_Release\\bin\\Release 





版本可能會不太一樣，取決於偵測到甚麼版本的compiler，也就是你裝甚麼版本的VS。

結束就會長這樣
#### blender\-git/
#### ├──blender/
#### ├──build\_windows\_Full\_x64\_vc14\_Release/
#### └──lib/

然後你可以看到build的資料夾裡面有blender\.exe


> cd D:\\blender\-git\\build\_windows\_Full\_x64\_vc16\_Release\\bin\\Release 





> blender\.exe 





原則上能夠跑程式就算是OK惹

如果這邊是自己手動cmake就要記得去開build的資料夾把Blender\.sln打開建置，這邊要建置3個

INSTALL，產生腳本跟\.dll

ALL\_BUILD，就是編全部

blender，本體

建置完把blender設為起始專案去跑就會執行了，其實他就是建置在Release這個資料夾，如果你建置的是Release版的話，裡面有個blender\.exe

— 更新一點

[Blender 2\.83 Release](https://www.blender.org/press/blender-2-83-release/){:target="_blank"}

官方有說2\.83是Long Term Support，所以我這邊來特別講一下怎麼編，而為甚麼要特別講是因為如果你照官方的步驟來做可能會編不起來。那就當作例子來特別講一下吧，其實大部分步驟都一樣。

首先，先從github clone下來


> cd C:\\blender\-git 





> git clone git://git\.blender\.org/blender\.git 





然後記得switch/checkout到 _blender\-v2\.83\-release_ 這個branch，然後正常來講，我們會需要利用make update去載它的pre\-compile的lib，但是這邊不確定是他沒有寫好，它會抓到2\.9版的lib，而他們的名子都是win64\_vc15，這樣會compile不過，所以可以試著自己把lib載下來。


> svn checkout [https://svn\.blender\.org/svnroot/bf\-blender/tags/blender\-2\.83\-release/lib/win64\_vc15](https://www.google.com/url?q=https://svn.blender.org/svnroot/bf-blender/tags/blender-2.83-release/lib/win64_vc15&sa=D&source=hangouts&ust=1593870093833000&usg=AFQjCNEb_CJr3flysMcZljKwu1sy01u-eQ){:target="_blank"} 





然後記得要把lib按照前面介紹的那樣放到指定的相對位置，這樣cmake才偵測的到你的lib，才有有辦法cmake，所以接下來應該就一樣了，cmake完，然後開VS去編或是直接用make full。

[**Blender源码结构**](https://zhuanlan.zhihu.com/p/97210861?fbclid=IwAR0hs8YXAcL3Oo5BXbivfS1sZp6JUSRF5bwYTA0BhiFlni9q5_yvWnK7UFg){:target="_blank"} 
[_最开始听说到blender还是2\.79版本的时候，那时候blender还是一个比较小众的软件。建模和渲染的软件有很多，渲染器有些是开源的如Mitsuba、luxrender等等，大部分都不开源如做成插件的renderman，软件内置的Arn…_ zhuanlan\.zhihu\.com](https://zhuanlan.zhihu.com/p/97210861?fbclid=IwAR0hs8YXAcL3Oo5BXbivfS1sZp6JUSRF5bwYTA0BhiFlni9q5_yvWnK7UFg){:target="_blank"}



_[Post](https://medium.com/maochinn/blender-2-8-%E5%BB%BA%E7%BD%AE%E5%B0%88%E6%A1%88-6ccfafa0749f){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._
