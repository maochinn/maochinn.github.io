---
title: "ã€Omniverse Farmã€‘å­¸ç¿’ç­†è¨˜â€Šâ€”â€Š02ï¼šTaipei-1"
author: "å¸½æ²"
date: 2025-09-24T02:53:50.339+0000
last_modified_at: 2025-09-25T03:48:39.621+0000
categories: ["Maochinn"]
tags: ["nvidia","omniverse","isaac-sim","ovx"]
description: "Taipei-1æ˜¯NVå»ºç½®çš„è¶…ç´šé›»è…¦ï¼Œæœ‰å…©ç¨®ç³»çµ±çš„æ©Ÿç¾¤ï¼Œä¸€å€‹æ˜¯æœ‰åçš„DGXï¼Œå¦ä¸€å€‹æ˜¯OVXï¼Œå…¶ä¸­DGXï¼Œæ˜¯Deep GPU Xcelerationçš„æ„æ€ï¼Œä»¥æ­¤é¡æ¨ï¼ŒOVXå…¶å¯¦å°±æ˜¯Omniverse Xcelerationçš„æ„æ€ï¼Œå°±å¦‚åŒã€Omniverse Farmã€‘å­¸ç¿’ç­†è¨˜â€¦"
image:
  path: /assets/f84e89d18c69/1*dBp5HikBtguPuVot4DWIKQ.png
render_with_liquid: false
---

### ã€Omniverse Farmã€‘å­¸ç¿’ç­†è¨˜ â€” 02ï¼šTaipei\-1

Taipei\-1æ˜¯NVå»ºç½®çš„è¶…ç´šé›»è…¦ï¼Œæœ‰å…©ç¨®ç³»çµ±çš„æ©Ÿç¾¤ï¼Œä¸€å€‹æ˜¯æœ‰åçš„DGXï¼Œå¦ä¸€å€‹æ˜¯OVXï¼Œå…¶ä¸­DGXï¼Œæ˜¯Deep GPU Xcelerationçš„æ„æ€ï¼Œä»¥æ­¤é¡æ¨ï¼ŒOVXå…¶å¯¦å°±æ˜¯Omniverse Xcelerationçš„æ„æ€ï¼Œå°±å¦‚åŒ [ã€Omniverse Farmã€‘å­¸ç¿’ç­†è¨˜ â€” 00ï¼šOVX](../0fdb74ed85ce/) ä¸­æåˆ°çš„ï¼ŒTaipei\-1 OVXå°±æ˜¯é€éOmniverse Farmä¾†æäº¤ä»»å‹™ï¼Œå¥½è™•æ˜¯ï¼Œä½¿ç”¨è€…ä¸éœ€è¦è‡ªå·±ç®¡ç†å¯¦éš›åŸ·è¡Œçš„agentæ©Ÿç¾¤ï¼Œç”±farmä¸­çš„queueä¾†èª¿å‹•ã€‚

æ‰€ä»¥æˆ‘å¯ä»¥åœ¨windowsæœ¬åœ°ç™¼é€taskåˆ°é ç«¯çš„Omniverse Farmï¼Œä¸€ç¨®æœ€ç°¡å–®çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ [ã€Omniverse Farmã€‘å­¸ç¿’ç­†è¨˜ â€” 01ï¼šUsing Movie Capture to Render](../1745b2c60c07/) ä¸­æåˆ°çš„æ–¹å¼ï¼Œä½†é€™ç¨®æ–¹å¼æ˜é¡¯çš„åªèƒ½ç”¨åœ¨renderingé€™æ¨£çš„taskä¸Šï¼Œä¸»è¦çš„åŸå› æ˜¯å› ç‚ºï¼Œæˆ‘å€‘å®Œå…¨ä»°è³´extensionä¾†å¹«æˆ‘å€‘submit taskï¼Œæˆ‘å€‘ä¸èƒ½åšå…¶ä»–é¡å‹çš„taskï¼Œä¾‹å¦‚æ¨¡æ“¬ç­‰ã€‚

å¦å¤–ï¼Œé‚£å€‹extensionæäº¤çš„taskæ˜¯ _create\-render_ ï¼Œé€™ç¨®taskæ˜¯åŸºæ–¼ _kit\-service_ é€™ç¨®job typeï¼Œä»–æœƒåœ¨omniverse kitçš„ç’°å¢ƒä¸‹é‹è¡Œtaskï¼Œä½†æ˜¯æœ‰æ™‚æˆ‘å€‘çš„taskæœªå¿…éœ€è¦åœ¨omniverseçš„ç’°å¢ƒä¸‹é‹è¡Œï¼Œä¾‹å¦‚å°åœ–ç‰‡ä½œå¾Œè™•ç†ç­‰ç­‰ï¼Œå¯èƒ½åªæ˜¯å–®ç´”çš„pythonè…³æœ¬ï¼Œå› æ­¤æœ‰å¦ä¸€å€‹é¡å‹çš„job typeç¨±ä¹‹ç‚º _base_ ã€‚åŸºæ–¼ _base_ çš„taskåŸºæœ¬ä¸Šå°±åƒæ˜¯ç›´æ¥åœ¨terminalä¸‹commandé‚£æ¨£çš„è‡ªç”±ï¼Œé€™ä¹ŸåŒ…å«é‹è¡Œomniverseï¼Œé€éstandaloneã€‚

å› æ­¤ï¼Œæœ€æ ¹æœ¬çš„è§£æ±ºæ–¹å¼å°±æ˜¯è‡ªå·±å®šç¾©åŸºæ–¼ _base_ jobçš„taskç­‰ï¼Œä¹Ÿå°±æ˜¯æˆ‘å€‘åœ¨ [ã€Omniverse Farmã€‘å­¸ç¿’ç­†è¨˜ â€” 00ï¼šOVX](../0fdb74ed85ce/) ä¸­åšçš„äº‹æƒ…ï¼Œå› ç‚ºé€™æ¨£æˆ‘å€‘å¯ä»¥è‡ªå·±æ±ºå®šåœ¨ä»»æ„çš„ç’°å¢ƒ\(Omniverseæˆ–ä¸æ˜¯\)ä¸‹åŸ·è¡Œä»»æ„çš„è…³æœ¬\(renderingæˆ–å…¶ä»–è…³æœ¬\)ï¼Œä½†é€™ç¨®æ–¹å¼ä¹Ÿæ˜¯æœ€éº»ç…©çš„ï¼Œæˆ‘å€‘å…‰å¾submit **_hello\-world_** taskçš„éç¨‹å°±çŸ¥é“éç¨‹å¾ˆç¹ç‘£ï¼Œå› æ­¤ï¼Œå¯¦ä½œä¸Šï¼Œæˆ‘å€‘å¯ä»¥åƒè€ƒåˆ¥äººåšçš„å·¥å…·


[![](https://opengraph.githubassets.com/32debd05b9c804b07951dd14c320e938b38b7a04cf34bd17d737990a1294e46d/j3soon/omni-farm-isaac)](https://github.com/j3soon/omni-farm-isaac){:target="_blank"}


omni\-farm\-isaacé€™å€‹repoå…¶å¯¦å°±æ˜¯å°‡åŸºæœ¬çš„omniverse farmçš„æŒ‡ä»¤åŒ…è£æˆ\.shï¼Œä¾‹å¦‚ [æ•™å­¸](https://docs.omniverse.nvidia.com/farm/latest/guides/testing_farm.html){:target="_blank"} ä¸­ç¢ºèªfarmä¸­æœ‰ç”šéº¼job typeæ™‚æœƒé€éé€™å€‹API
```bash
curl http://localhost:8222/queue/management/jobs/load
```

è€Œåœ¨omni\-farm\-isaacä¸­è¦ç¢ºèªjobsçš„æ™‚å€™å°±æ˜¯ç›´æ¥åŸ·è¡Œ
```bash
scripts/load_job.sh
```

æˆ‘å€‘å¯ä»¥åœ¨repoä¸­æ‰¾åˆ°å°æ‡‰æª”æ¡ˆå¾Œï¼Œæ‰“é–‹ç¨‹å¼ç¢¼æœƒç™¼ç¾é€™æ®µ
```bash
# Reference: https://docs.omniverse.nvidia.com/farm/latest/guides/creating_job_definitions.html#uploading-job-definitions
curl -X "GET" "${FARM_URL}/queue/management/jobs/load" \
    -H "Accept: application/json" \
    -H "Content-Type: application/json" \
    -H "X-API-KEY: ${FARM_API_KEY}" \
    | jq
```

å…¶å¯¦åŸºæœ¬ä¸Šä¸€æ¨£éƒ½æ˜¯å»call APIï¼Œå·®ç•°åœ¨æ–¼scripts/load\_job\.shä¸­æœ‰å…·é«”å¯«æ˜ä½¿ç”¨"GET"ï¼Œä½†å…¶å¯¦curlé è¨­å°±æ˜¯ä½¿ç”¨"GET"ï¼Œæ‰€ä»¥æ•™å­¸ä¸­æ‰æ²’æœ‰å¯«ï¼Œä½†å…¶å¯¦æ˜¯ä¸€æ¨£çš„æ±è¥¿ã€‚

ç¸½ä¹‹ï¼Œå°æ‡‰ [ã€Omniverse Farmã€‘å­¸ç¿’ç­†è¨˜ â€” 00ï¼šOVX](../0fdb74ed85ce/) ä¸­å¸¸ç”¨çš„4å€‹API
```bash
/queue/management/jobs/save
/queue/management/jobs/load
/queue/management/jobs/remove
/queue/management/tasks/submit
```

omni\-farm\-isaac/scripts/ä¸­å°±æœ‰æä¾›å°æ‡‰çš„å››å€‹\.sh
```bash
scripts/save_job.sh
scripts/load_job.sh
scripts/remove_job.sh
scripts/submit_task.sh
```

å…¶å¯¦å°±æ˜¯å°æ‡‰OV farmçš„åŸºæœ¬æ“ä½œã€‚

å› æ­¤ï¼Œæœ¬ç¯‡ä¸»è¦å°±æ˜¯ä¾æ“š [omni\-farm\-isaac](https://github.com/j3soon/omni-farm-isaac){:target="_blank"} æä¾›çš„å·¥å…·ä¾†ä»‹ç´¹å¦‚ä½•å¯¦éš›submitä»»å‹™åˆ°Taipeiï¼Œä¸»è¦æ˜¯é€éä¸€å€‹æœ¬åœ°çš„Windowså³å¯ï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒTaipei\-1æ˜¯é ç«¯çš„æ©Ÿå™¨ï¼Œå› æ­¤è…³æœ¬æ‰€éœ€è¦çš„assetä¹Ÿè¦äº‹å…ˆä¸Šå‚³åˆ°Nucleus Serverï¼Œé€™å€‹éƒ¨åˆ†å¯ä»¥ç›´æ¥ç”¨ç€è¦½å™¨æˆ–æ˜¯é€é [omni\-farm\-isaac](https://github.com/j3soon/omni-farm-isaac){:target="_blank"} ä¸­æä¾›çš„omnicliä¾†æ‰¹é‡ä¸Šå‚³ï¼Œåªä¸éå¾Œè€…åªèƒ½åœ¨Linuxç’°å¢ƒä¸‹åŸ·è¡Œã€‚

ç¸½ä¹‹ï¼Œæ“ä½œçš„ç´°ç¯€è«‹åƒè€ƒ [omni\-farm\-isaac](https://github.com/j3soon/omni-farm-isaac){:target="_blank"} ï¼Œé€™é‚Šåªæœƒç´€éŒ„é‡é»ã€‚
### Submit a base task

é‚£å›åˆ°Windowsè¦æ€éº¼submit taskï¼Œæˆ–è€…èªªæ€éº¼è·Ÿé ç«¯çš„queueäº’å‹•ï¼Œæˆ‘å€‘éœ€è¦é€éscripts/ä¸­çš„4å€‹\.shï¼Œä½†å› ç‚º\.shæ˜¯ä¸æ˜¯windowsé è¨­å¯ä»¥è·‘çš„åŸ·è¡Œæª”ï¼Œæˆ‘å€‘å¯ä»¥é€é [git](https://git-scm.com/downloads){:target="_blank"} è‡ªå¸¶çš„git bashä¾†åŸ·è¡Œé€™äº›\.shã€‚

åœ¨\.shä¹‹ä¸­å®ƒæœƒæŠ“ç’°å¢ƒè®Šæ•¸ä¾†ç”¨ï¼Œæ‰€ä»¥åœ¨åŸ·è¡Œå‰è¦å…ˆè¨­å®šå¥½ä»¥ä¸‹
```cpp
export FARM_API_KEY="s3cr3t"
export FARM_URL="http://localhost:8222"
export FARM_USER="j3soon"
export NUCLEUS_IP="127.0.0.1"
export NUCLEUS_HOSTNAME="localhost"
# Below are optional, only needed if you are using non-default username and password for Nucleus.
# export OMNI_USER="admin"
# export OMNI_PASS="admin"
# export FTP_USER="j3soon"
# export FTP_PASS="s3cr3t"
```

å…¶å¯¦å°±æ˜¯farmè·Ÿnucleusçš„ä½å€ï¼Œå¦‚æœfarmåœ¨æœ¬åœ°ç«¯ï¼Œé‚£å°±æ˜¯
```ini
FARM_URL="http://localhost:8222"
```

å¦‚æœæ˜¯åœ¨é ç«¯ï¼Œé‚£å°±æŠŠè·¯å¾‘æ›æˆé ç«¯ä½å€å³å¯ï¼Œç¸½ä¹‹é€™äº›è¨­å®šå› ç‚ºå¸¸å¸¸éœ€è¦é‡æ–°è¨­å®šï¼Œæ‰€ä»¥å»ºè­°æ‰‹å‹•æŠŠå®ƒå„²å­˜æˆsecrets/env\.shï¼Œä¹‹å¾Œå°±åªéœ€è¦å‘¼å«
```bash
cd ~/Workspace/Corvus/Taipei-1/omni-farm-isaac
source secrets/env.sh
```

å°±å¯ä»¥è¨­å®šå¥½éœ€è¦çš„ç’°å¢ƒè®Šæ•¸äº†ï¼Œä¹‹å¾Œå°±å¯ä»¥è·‘æ¥ä¸‹ä¾†çš„ç¯„ä¾‹äº†ï¼Œé¦–å…ˆæ˜¯å®šç¾©ä¸€å€‹åç‚ºecho\-exampleçš„jobä¸Šå‚³ä¸¦æŸ¥çœ‹
```bash
scripts/save_job.sh echo-example
scripts/load_job.sh
```

é€™é‚Šè¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå»çœ‹save\_job\.shçš„å…§å®¹å¯ä»¥ç™¼ç¾ï¼Œä»–å…¶å¯¦æ˜¯æœƒä½¿ç”¨job\_definitions/echo\-example\.jsonä¾†åšç‚ºjobçš„å®šç¾©å¾Œï¼Œç„¶å¾Œå‚³åˆ°OV farmï¼Œæ›è¨€ä¹‹ï¼Œå¦‚æœè¦å®šç¾©ä¸€å€‹jobï¼Œå°±è¦å…ˆå¯«å¥½jsonï¼Œä¾‹å¦‚è¦å®šç¾©ä¸€å€‹hello\-worldçš„jobï¼Œé‚£å°±è¦åœ¨äº‹å…ˆå¯«å¥½job\_definitions/hello\-world\.jsonã€‚

æˆ–è€…ï¼Œå°±æ˜¯è¦ä½¿ç”¨å®˜æ–¹ç¶²ç«™çš„åšæ³•ï¼Œä¹Ÿå°±æ˜¯ä¹‹å‰æ–‡ç« ä»‹ç´¹çš„æ–¹æ³•ï¼Œå°‡jobå¯«æˆ\.kitï¼Œç„¶å¾Œç”¨job\_definition\_upload\.pyå‚³ä¸Šå»ã€‚

[**Testing Your Farm Instance \- Omniverse Farm**](https://docs.omniverse.nvidia.com/farm/latest/guides/testing_farm.html#uploading-to-farm){:target="_blank"} 
[_With your Farm instance up and running, you'll want to confirm that everything is functioning as it should\. Thisâ€¦_ docs\.omniverse\.nvidia\.com](https://docs.omniverse.nvidia.com/farm/latest/guides/testing_farm.html#uploading-to-farm){:target="_blank"}

ç¸½ä¹‹ï¼ŒæŠŠjobå‚³ä¸Šå»å¾Œï¼Œå°±å¯ä»¥åŸ·è¡Œ
```bash
scripts/submit_task.sh echo-example "hello world" "Echo hello world"
```

æ‡‰è©²åœ¨dashboardè£¡é¢å¯ä»¥çœ‹åˆ°taskçš„log


![](/assets/f84e89d18c69/1*Exx5tUQXQCkwa9zORWeqhA.png)


é‚£æˆ‘å€‘å¯ä»¥æ›´æ·±å…¥çš„æŒ–æ˜echo\-example\.jsonå¯ä»¥ç™¼ç¾ï¼ŒåŸºæœ¬ä¸Šæ•´é«”è·Ÿ\.kitçš„æ ¼å¼é¡ä¼¼ï¼Œå› ç‚ºä»–å€‘çš„åŠŸèƒ½éƒ½æ˜¯å®šç¾©jobï¼Œç¯€éŒ„éƒ¨åˆ†å¦‚ä¸‹
```bash
{
  "job_type": "base",
  "command": "echo",
...
 "container": "ubuntu:latest",
  "allowed_args": {
    "args": {
      "arg": "",
      "default": "hello",
      "separator": ""
    }
  }
}
```

é€™é‚Šå°±å¯ä»¥çœ‹åˆ°å®ƒçš„job typeçš„ç¢ºæ˜¯ _base_ ï¼Œå®ƒçš„commandæ˜¯echoï¼Œargsé è¨­æ˜¯helloï¼Œä¹Ÿå°±æ˜¯å¦‚æœtaskæ²’æœ‰çµ¦å®šargsçš„è©±ï¼Œé‚£ä»–å…¶å¯¦å°±æ˜¯åŸ·è¡Œ
```bash
echo hello
```

ä½†æ˜¯æˆ‘å€‘submitçš„taskæœ‰çµ¦å®šargsç‚º"hello world"
```bash
scripts/submit_task.sh echo-example "hello world" "Echo hello world"
```

å› æ­¤ï¼Œå¯¦éš›ä¸Šæ˜¯åŸ·è¡Œ
```bash
echo hello world
```

ä¸¦ä¸”å°‡é€™å€‹taskè¨»è§£â€Echo hello worldâ€


![](/assets/f84e89d18c69/1*v0OmI5mwi8-jKHKPfePh3Q.png)


åªä¸éå¯ä»¥åœ¨jsonçœ‹åˆ°ä¸€äº›å…¶ä»–jobçš„è¨­å®šï¼ŒåŒ…å«ä½¿ç”¨ç”šéº¼æ¨£çš„containerå»åŸ·è¡Œtaskï¼Œä¾‹å¦‚ï¼Œubuntu:latestï¼Œé€™å€‹éƒ¨åˆ†æ¥ä¸‹ä¾†çš„ä¾‹å­é‚„æœƒçœ‹åˆ°ã€‚
### Submit a task with isaac\-sim standalone script

åƒæ˜¯ä¸‹å€‹ä¾‹å­è¦åŸ·è¡ŒIsaacçš„standalone workflowä¸‹çš„pythonè…³æœ¬ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯æœƒé€éIsaac\-simçš„pythonç’°å¢ƒå»åŸ·è¡ŒIsaacçš„è…³æœ¬ï¼Œä»¥æ­¤æˆ‘å€‘ä¹Ÿå¯ä»¥ç”¨åŸºæ–¼ _base_ çš„taskä¾†åŸ·è¡ŒOmniverseçš„åŠŸèƒ½
```bash
scripts/save_job.sh isaac-sim-dummy-example
scripts/submit_task.sh isaac-sim-dummy-example "./standalone_examples/api/isaacsim.core.api/time_stepping.py" "Isaac Sim Time Stepping"
```

é¦–å…ˆï¼Œæˆ‘å€‘å¯ä»¥å¾isaac\-sim\-dummy\-example\.jsonçŸ¥é“commandæ˜¯
```json
"command": "./python.sh",
```

è€ŒåŠ ä¸Štaskçµ¦å®šçš„argsï¼Œä»–å¯¦éš›ä¸Šå°±æ˜¯åœ¨containerä¸­åŸ·è¡Œ
```bash
./python.sh ./standalone_examples/api/isaacsim.core.api/time_stepping.py
```

å…¶å¯¦å°±æ˜¯åªæ˜¯å‘¼å«pythonåŸ·è¡Œè…³æœ¬è€Œå·²ï¼Œå¦‚æœæœ‰åœ¨ä½¿ç”¨Isaacçš„standaloneå¯ä»¥é€²ä¸€æ­¥ç™¼ç¾ï¼Œé€™å€‹è…³æœ¬å‘¼å«çš„æ˜¯Isaac\-simä¸­çš„ç¯„ä¾‹è…³æœ¬ï¼Œäº‹å¯¦ä¸Šé€™å€‹jobç”¨çš„containerå°±æ˜¯
```json
"container": "nvcr.io/nvidia/isaac-sim:4.5.0"
```

è©²containerä¸­é™¤äº†åŒ…å«å®Œæ•´çš„isaac\-simä¹‹å¤–ï¼Œä¹ŸåŒ…å«äº†é€™å€‹è…³æœ¬ï¼Œä½†æ˜¯æ­£å¸¸çš„æƒ…æ³ä¸‹ï¼Œæ¬²åŸ·è¡Œçš„çš„è…³æœ¬ä¸æœƒåœ¨containerä¹‹ä¸­ï¼Œæˆ‘å€‘éœ€è¦å¾nucleusä¸­ä¸‹è¼‰åˆ°containerï¼Œæ‰€ä»¥å¯ä»¥é€²åˆ°ä¸‹ä¸€å€‹ç¯„ä¾‹ã€‚
### Submit a task with Nucleus

å°±å¦‚åŒä¹‹å‰æåˆ°çš„ï¼Œnucleusçš„æª”æ¡ˆè¦å…ˆå¾æœ¬åœ°ä¸Šå‚³ï¼Œç„¶å¾ŒåŸ·è¡Œtaskçš„æ™‚å€™æœƒåœ¨containerä¸­ä¸‹è¼‰ä¸‹ä¾†ï¼Œè‡³æ–¼ä¸Šå‚³çš„æ–¹å¼æœ‰å…©ç¨®ï¼Œä¸€å€‹æ˜¯ç›´æ¥ä½¿ç”¨ç€è¦½å™¨ä¸Šå‚³\(æˆ–è€…é€éOmniverseä¸­çš„Contentä¹Ÿå¯ä»¥\)ï¼Œå¦ä¸€ç¨®å‰‡æ˜¯æŠŠ [omni\-farm\-isaac](https://github.com/j3soon/omni-farm-isaac){:target="_blank"} ä¸‹è¼‰åˆ°åœ¨Linuxç’°å¢ƒä¸­ï¼Œé€érepoä¸­çš„omnicliå°‡æª”æ¡ˆä¸Šå‚³åˆ°nucleus
```bash
source secrets/env.sh
cd thirdparty/omnicli
./omnicli copy "../../tasks/isaac-sim-simulation-example.py" "omniverse://$NUCLEUS_HOSTNAME/Projects/$FARM_USER/Isaac/4.5/Scripts/isaac-sim-simulation-example.py"
cd ../..
```

ä½¿ç”¨æ–¹å¼å¾ˆç°¡å–®ï¼Œåªæ˜¯è¦è¨˜å¾—è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼Œç„¶å¾Œå°±å¯ä»¥å°‡æª”æ¡ˆå¾æœ¬åœ°ä¸Šå‚³åˆ°ç›®æ¨™ä½å€ï¼Œåªæ˜¯æœ‰å€‹å°ç¼ºé»æ˜¯åŸ·è¡Œçš„æ™‚å€™ä¸æœƒæœ‰ä»»ä½•è¼¸å‡ºï¼Œåªè¦å†å®Œæˆçš„æ™‚å€™æœƒè¼¸å‡ºOKã€‚

æ¯”è¼ƒå¤§çš„å•é¡Œæ˜¯windowsçš„ç’°å¢ƒæœƒæ²’è¾¦æ³•åŸ·è¡Œï¼Œä¸€å€‹æ¯”è¼ƒæš´åŠ›çš„è§£æ±ºæ–¹å¼å°±æ˜¯ç›´æ¥é€énucleusçš„ç¶²é ç‰ˆç›´æ¥ä¸Šå‚³åˆ°æŒ‡å®šè·¯å¾‘å³å¯ï¼Œç¼ºé»æ˜¯ï¼Œå¦‚æœæ˜¯å¤§é‡çš„æª”æ¡ˆï¼Œè€Œä¸æ˜¯å–®å€‹è…³æœ¬é€™æ¨£å¯¦åœ¨ä¸æ˜¯å¾ˆæœ‰æ•ˆç‡ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦wslçš„ç’°å¢ƒï¼Œæˆ–è€…æ˜¯éœ€è¦è‡ªå·±build omnicli\.exe


[![](https://opengraph.githubassets.com/285f51815cad4c69fe13e99fc35402c2c7262cb1a304d009bf9c9545b4f7a91b/NVIDIA-Omniverse/connect-samples)](https://github.com/NVIDIA-Omniverse/connect-samples?tab=readme-ov-file#omni-cli){:target="_blank"}


ç¸½ä¹‹ï¼ŒæŠŠæª”æ¡ˆä¸Šå‚³ä¸Šå»å¾Œï¼Œå°±å¯ä»¥submit task
```bash
scripts/save_job.sh isaac-sim-basic-example
scripts/submit_task.sh isaac-sim-basic-example \
"/run.sh \
  --download-src 'omniverse://$NUCLEUS_HOSTNAME/Projects/$FARM_USER/Isaac/4.5/Scripts/isaac-sim-simulation-example.py' \
  --download-dest '/src/isaac-sim-simulation-example.py' \
  --upload-src '/results/isaac-sim-simulation-example.txt' \
  --upload-dest 'omniverse://$NUCLEUS_HOSTNAME/Projects/$FARM_USER/Isaac/4.5/Results/isaac-sim-simulation-example.txt' \
  './python.sh -u /src/isaac-sim-simulation-example.py 10'" \
  "Isaac Sim Cube Fall"
```

å¯ä»¥ç™¼ç¾ï¼Œä»–å°‡ä¸€é€£ä¸²çš„commandéƒ½å¯«åœ¨argsä¸­ï¼Œé€™æ˜¯å› ç‚ºåœ¨isaac\-sim\-basic\-example\.jsonä¸­
```json
"command": "bash",
```

æˆ‘å€‘å¯ä»¥ç™¼ç¾commandæ˜¯bashï¼Œè€Œå¯¦éš›ä¸Šçš„commandéƒ½å¯«åœ¨taskçš„argsä¸­ï¼Œå› æ­¤å¯¦éš›åŸ·è¡Œé¡ä¼¼é€™æ¨£
```dart
bash /run.sh \
  --download-src 'omniverse://$NUCLEUS_HOSTNAME/Projects/$FARM_USER/Isaac/4.5/Scripts/isaac-sim-simulation-example.py' \
  --download-dest '/src/isaac-sim-simulation-example.py' \
  --upload-src '/results/isaac-sim-simulation-example.txt' \
  --upload-dest 'omniverse://$NUCLEUS_HOSTNAME/Projects/$FARM_USER/Isaac/4.5/Results/isaac-sim-simulation-example.txt' \
  './python.sh -u /src/isaac-sim-simulation-example.py 10'
```

æ›è¨€ä¹‹ï¼Œé€™å€‹taskæ˜¯åœ¨containerä¸­åŸ·è¡Œ/run\.shï¼Œä»–å¯ä»¥æ¥å—å¹¾å€‹åƒæ•¸ï¼Œå…¶ä¸­ï¼Œdownload\-srcå’Œdownload\-destï¼Œå°±æ˜¯åœ¨å•Ÿå‹•containerçš„æ™‚å€™æœƒå°‡nucleusçš„srcæª”æ¡ˆä¸‹è¼‰åˆ°containerä¸­çš„destç›®æ¨™è·¯å¾‘ï¼Œä»¥æ­¤é¡æ¨ï¼Œupload\-srcå’Œupload\-destä¹Ÿæ˜¯é¡ä¼¼çš„æ¦‚å¿µï¼Œå°±æ˜¯åŸ·è¡Œå®Œè…³æœ¬ä¹‹å¾Œï¼Œæœƒå°‡containerä¸­çš„æª”æ¡ˆä¸Šå‚³åˆ°nucleusï¼Œæœ€å¾Œæ˜¯è¦åŸ·è¡Œçš„è…³æœ¬ï¼Œä»¥ä¸Šé¢ç‚ºä¾‹
```bash
./python.sh -u /src/isaac-sim-simulation-example.py 10
```

é€™æ‰æ˜¯çœŸæ­£è¦åŸ·è¡Œçš„è…³æœ¬ï¼ŒåŒæ™‚ä¹Ÿå¯ä»¥æ³¨æ„åˆ°ï¼Œé€™å€‹è…³æœ¬çš„è·¯å¾‘è·Ÿdownload\-destæ˜¯ç›¸åŒçš„ï¼Œæ›è¨€ä¹‹ï¼Œç‚ºäº†è¦åŸ·è¡Œé€™å€‹è…³æœ¬ï¼Œæˆ‘å€‘éœ€è¦å°‡å®ƒå¾download\-src\(in nucleus\)ä¸‹è¼‰åˆ°download\-dest\(in container\)ï¼Œç„¶å¾Œè¦åœ¨æ­£ç¢ºçš„è·¯å¾‘ä¸‹æ‰èƒ½åœ¨containerä¸­æ‰¾åˆ°é€™å€‹è…³æœ¬ã€‚

å¦å¤–ï¼Œåœ¨isaac\-sim\-simulation\-example\.pyä¹Ÿå¯ä»¥ç™¼ç¾
```python
pathlib.Path("/results").mkdir(parents=True, exist_ok=True)
with open("/results/isaac-sim-simulation-example.txt", "w") as file:
    file.write(output)
```

è…³æœ¬ä¸­æœƒå¯«æª”æ¡ˆåˆ°/results/isaac\-sim\-simulation\-example\.txtï¼Œé€™å€‹è·¯å¾‘æ˜¯è·Ÿupload\-srcæ˜¯ç›¸åŒçš„ï¼Œå› æ­¤ï¼Œåœ¨è…³æœ¬åŸ·è¡Œå®Œå¾Œæ‰èƒ½æ­£ç¢ºåœ°æŠŠcontainerä¸­è¼¸å‡ºçš„æª”æ¡ˆä¸Šå‚³åˆ°nucleusï¼Œå¦å‰‡è¼¸å‡ºçš„æª”æ¡ˆå°‡æœƒéš¨è‘—containerçš„é—œé–‰è€Œæ¶ˆå¤±ã€‚

æ¥è‘—è®“æˆ‘å€‘ä¾†è©¦ä¸€å€‹é¡ä¼¼çš„ä¾‹å­ï¼Œæˆ‘å€‘ä¸€æ¨£ä½¿ç”¨isaac\-simä¸­çš„ç¯„ä¾‹è…³æœ¬ï¼Œ
```bash
isaacsim/standalone_examples/api/isaacsim.replicator.examples/sdg_getting_started_01.py
```

å®ƒæœƒåˆ©ç”¨replicatorç”Ÿæˆå¤šå¼µåœ–ç‰‡ï¼Œæˆ‘å€‘æƒ³è¦å°‡åœ¨containerä¸­åŸ·è¡Œå®ƒï¼Œä¸¦ä¸”å°‡è¼¸å‡ºçš„åœ–ç‰‡ä¸Šå‚³åˆ°nucleusï¼Œåªä¸éå› ç‚ºTaipei\-1å±¬æ–¼headlessç’°å¢ƒæˆ‘å€‘éœ€è¦ä¿®æ”¹è…³æœ¬
```ini
simulation_app = SimulationApp(launch_config={"headless": True})
```

ä¹Ÿå› ç‚ºé€™å€‹è…³æœ¬æ˜¯æˆ‘å€‘è‡ªå·±ä¿®æ”¹çš„ï¼Œcontainerä¸­ä¸¦æ²’æœ‰ï¼Œæ‰€ä»¥é‚„æ˜¯éœ€è¦ä¸Šå‚³åˆ°nucleuså†è¼‰åˆ°containerä¸­
```bash
scripts/save_job.sh isaac-sim-nucleus-example
scripts/submit_task.sh isaac-sim-nucleus-example \
"/run.sh \
  --download-src 'omniverse://$NUCLEUS_HOSTNAME/Projects/$FARM_USER/Isaac/4.5/Scripts/sdg_getting_started_01.py' \
  --download-dest '/src/sdg_getting_started_01.py' \
  --upload-src '/isaac-sim/_out_basic_writer' \
  --upload-dest 'omniverse://$NUCLEUS_HOSTNAME/Projects/$FARM_USER/Isaac/4.5/Results/_out_basic_writer' \
  './python.sh -u /src/sdg_getting_started_01.py'" \
  "Isaac Sim SDG TESTING"
```

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè©²è…³æœ¬æœƒå°‡æª”æ¡ˆè¼¸å‡ºåœ¨
```bash
/isaac-sim/_out_basic_writer
```

å› æ­¤æˆ‘å€‘æœƒå°‡ â€” upload\-srcè¨­å®šæˆé€™å€‹è·¯å¾‘ï¼Œç´°ç¯€å¯ä»¥è‡ªå·±æ‰¾è…³æœ¬ä¾†çœ‹ï¼Œå¦‚æœé †åˆ©çš„è©±ï¼ŒåŸ·è¡Œå®Œtaskæ‡‰è©²å°±æœƒnecleusçš„å°æ‡‰è·¯å¾‘ä¸‹ç™¼ç¾ä¸€äº›åœ–ç‰‡


![](/assets/f84e89d18c69/1*dBp5HikBtguPuVot4DWIKQ.png)

### Build a Docker Image for OV farm

ä¸éï¼Œæˆ‘å€‘å‰›å‰›å…¶å¯¦å¿½ç•¥äº†ä¸€å€‹å•é¡Œæ˜¯ï¼Œ/run\.shæ˜¯å¾å“ªè£¡ä¾†çš„ï¼Œä»–ç†è«–ä¸Šæ˜¯containerä¸­é å…ˆå­˜åœ¨çš„ï¼Œå› ç‚ºæˆ‘å€‘æ²’æœ‰å‚³é€å®ƒé€²å»ã€‚äº‹å¯¦ä¸Šï¼Œé€™æ˜¯å› ç‚ºtaskæ˜¯åœ¨ç‰¹è£½çš„containerä¸­é‹ä½œçš„ï¼Œå¾isaac\-sim\-basic\-example\.jsonå’Œisaac\-sim\-nucleus\-example\.jsonéƒ½å¯ä»¥ç™¼ç¾
```json
"container": "j3soon/omni-farm-isaac-sim:4.5.0",
```

é€™ä¸¦ä¸æ˜¯å®˜æ–¹çš„imageï¼Œå®ƒæ˜¯ [omni\-farm\-isaac/Dockerfile\_isaac\_sim\_4\_5\_0](https://github.com/j3soon/omni-farm-isaac/blob/master/Dockerfile_isaac_sim_4_5_0){:target="_blank"}
```bash
# Tools and scripts for Omniverse Farm
COPY thirdparty/omnicli /omnicli
COPY scripts/docker/run.sh /run.sh
```

å¯ä»¥ç™¼ç¾ä»–åœ¨å»ºç«‹imageçš„æ™‚å€™å°±å…ˆå°‡éœ€è¦ç”¨åˆ°çš„ç¨‹å¼åŒ…é€²å»äº†ï¼Œäº‹å¯¦ä¸Šï¼Œåªè¦è·Ÿéš¨ [omni\-farm\-isaac](https://github.com/j3soon/omni-farm-isaac/tree/master){:target="_blank"} /Dockerfile\_generalçš„è¦å‰‡ï¼Œæˆ‘å€‘è¦submitçš„taskå°±å¯ä»¥åœ¨ä»»æ„çš„imageä¸­åŸ·è¡Œä»»æ„çš„è…³æœ¬äº†ï¼Œä¾‹å¦‚
```bash
scripts/submit_task.sh vizuro-nucleus-example \
"/run.sh \
  --download-src 'omniverse://$NUCLEUS_HOSTNAME/Users/gino_chang/rendering' \
  --download-dest '/workspace' \
  --upload-src '/rendering_result' \
  --upload-dest 'omniverse://$NUCLEUS_HOSTNAME/Users/gino_chang/result' \
  'ls' \
  'python render.py -c config/taipei_1_engines.yaml'" "render 53x1000 images with all textures"
```

render\.pyé€™æ˜¯ä¸€å€‹å®Œå…¨èˆ‡omniverseç„¡é—œçš„è…³æœ¬ï¼Œæˆ‘å€‘åªè¦äº‹å…ˆæŠŠæ‰€æœ‰æœƒç”¨åˆ°çš„assetä¸Šå‚³åˆ°Nucleusï¼Œç„¶å¾Œåœ¨job\( \.json\)ä¸­è¨­å®šå¥½è¦ä½¿ç”¨çš„commandï¼Œä¸¦ä¸”ç‰¹è£½è‡ªå·±éœ€è¦çš„imageåˆ°docker hubï¼Œåœ¨åŸ·è¡Œtaskçš„æ™‚å€™å°±æœƒè‡ªå·±æŠ“æœ€æ–°çš„ä¸‹ä¾†äº†ã€‚
```dart
/run.sh \
  --download-src 'omniverse://$NUCLEUS_HOSTNAME/Users/gino_chang/rendering' \
  --download-dest '/workspace' \
  --upload-src '/rendering_result' \
  --upload-dest 'omniverse://$NUCLEUS_HOSTNAME/Users/gino_chang/result' \
  'ls' \
  'python render.py -c config/taipei_1_engines.yaml'
```

ç”šè‡³ï¼Œä½ å¯ä»¥æ³¨æ„åˆ°ï¼Œåœ¨åŸ·è¡Œè…³æœ¬ä¹‹å‰é‚„é †ä¾¿outputç•¶å‰ç›®éŒ„çš„å…§å®¹åœ¨logä¸­ï¼Œåˆ°æ­¤ï¼ŒåŸºæœ¬ä¸Šå°±å¯ä»¥é€éOmniverse farmä»»æ„çš„ä½¿ç”¨Taipei\-1å»åŸ·è¡Œä»»æ„çš„è…³æœ¬äº†ï¼Œåªæ˜¯é€™å€‹æµç¨‹æœ‰å€‹ç¼ºé»æ˜¯ï¼Œæ‰€æœ‰è¦ä¸‹è¼‰åˆ°nucleusçš„assetå¿…é ˆè¦æ”¾åœ¨åŒä¸€å€‹è³‡æ–™å¤¾ä¸€èµ·è¼‰åˆ°containerä¸­ã€‚

æ›å¥è©±èªªï¼Œç›®å‰ç‚ºæ­¢ï¼Œå¦‚æœè¦åœ¨containerä¸­åŸ·è¡Œè‡ªå·±çš„è…³æœ¬åªæœ‰å…©å€‹æ‰‹æ®µï¼Œç¬¬ä¸€ç¨®ï¼Œå°‡è…³æœ¬äº‹å…ˆåŒ…åˆ°Imageä¸­ï¼Œä½†é¡¯ç„¶ä¸å¤ªåˆç†ï¼Œç¬¬äºŒç¨®ï¼Œå°±æ˜¯é€énucleusåœ¨å•Ÿå‹•containeræ™‚é€éomnicliä¸‹è¼‰åˆ°containerä¸­ï¼Œé¡¯ç„¶çš„ï¼Œå¦‚æœåªæ˜¯è…³æœ¬é€™ç¨®ç©ºé–“ä¸å¤§çš„è³‡æ–™ï¼Œé€™å€‹æ™‚é–“å¯ä»¥å¿½ç•¥ï¼Œå¯æ˜¯å¦‚æœæ˜¯è¨“ç·´é›†ï¼Œé‚£é€™ç¨®æ–¹å¼å°±é¡¯å¾—æœ‰é»æ„šè ¢ã€‚
### Submit a task with volume

å› æ­¤ï¼Œç†Ÿæ‚‰dockerçš„äººä¸€å®šå¥½å¥‡èƒ½å¦mountä¸€å€‹volumeï¼Œåªè¦äº‹å…ˆæŠŠæª”æ¡ˆæ”¾åœ¨æŸå€‹å„²å­˜ç©ºé–“ï¼Œå•Ÿå‹•containerçš„æ™‚å€™åœ¨æ›è¼‰ä¸Šå»å°±å¥½ï¼Œ [omni\-farm\-isaac](https://github.com/j3soon/omni-farm-isaac){:target="_blank"} æœ‰æä¾›ä¸€å€‹æ–¹æ¡ˆæ˜¯åŸºæ–¼Kubernetesçš„omniverse farmã€‚


[![](https://opengraph.githubassets.com/32debd05b9c804b07951dd14c320e938b38b7a04cf34bd17d737990a1294e46d/j3soon/omni-farm-isaac)](https://github.com/j3soon/omni-farm-isaac?tab=readme-ov-file#setting-persistent-volumes){:target="_blank"}


å…ˆèªªçµè«–ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨isaac\-sim\-volume\-example\.jsoné€™å€‹job
```json
"volumes": [
      {
        "persistentVolumeClaim": {
          "claimName": "nfs-pvc"
        },
        "name": "nfs"
      }
    ],
    "volume_mounts": [
      {
        "mountPath": "/mnt/nfs",
        "name": "nfs"
      }
    ],
```

åŸºæœ¬ä¸Šåªè¦ä½¿ç”¨é€™å€‹jobçš„taskï¼Œå…¶containerä¸­æ‡‰è©²å°±å¯ä»¥çœ‹åˆ°æœ‰volumeè¢«æ›è¼‰åœ¨/mnt/nfsé€™å€‹è·¯å¾‘ä¸‹ã€‚

é‚£é€™é‚Šç¨å¾®è§£é‡‹ä¸€ä¸‹ç™¼ç”Ÿäº†ä»€éº¼äº‹ï¼Œå¯¦éš›ä¸Šæ˜¯isaac\-sim\-volume\-exampleçš„taskåœ¨å•Ÿå‹•çš„æ™‚å€™æœƒé€énfs\-pvcï¼Œä¹Ÿå°±åŸºæ–¼NFSå”å®šçš„PVC\(Persistent Volume Claim\)å»è«‹æ±‚ä¸€å€‹é ç«¯çš„ç©ºé–“ä¾†æ›ï¼Œé‚£é€™å€‹é ç«¯çš„ç©ºé–“ç¨±ä¹‹ç‚ºPV\(Persistent Volume\)ï¼Œè‡³æ–¼é€™å€‹PVæ˜¯ç”±ç®¡ç†å“¡äº‹å…ˆåœ¨Kubernetesä¸­è¨­ç½®å¥½çš„ï¼Œæ‰€ä»¥ä½ æ‰èƒ½å¤ è«‹æ±‚çš„åˆ°ï¼ŒåŒæ™‚ç®¡ç†å“¡ä¹Ÿæ‡‰è©²è¦å‘Šè¨´ä½ å¦‚ä½•åœ¨offlineçš„æ™‚å€™accessï¼Œæ–¹ä¾¿ä½ éš¨æ™‚èƒ½å¤ ä¸Šå‚³ä¸‹è¼‰è³‡æ–™ã€‚


![[https://godleon\.github\.io/blog/Kubernetes/k8s\-Config\-StorageClass\-with\-NFS/](https://godleon.github.io/blog/Kubernetes/k8s-Config-StorageClass-with-NFS/){:target="_blank"}](/assets/f84e89d18c69/0*UWz3LBQJG8JvwCdT.jpg)

[https://godleon\.github\.io/blog/Kubernetes/k8s\-Config\-StorageClass\-with\-NFS/](https://godleon.github.io/blog/Kubernetes/k8s-Config-StorageClass-with-NFS/){:target="_blank"}

ç¸½ä¹‹ï¼Œæˆ‘å€‘å¯ä»¥é€éä»¥ä¸‹çš„taskå»å˜—è©¦ï¼Œå°‡æª”æ¡ˆè¼¸å‡ºåˆ°/mnt/nfsä¸­ï¼Œç„¶å¾Œè‡ªå·±åœ¨åˆ°è©²ç©ºé–“ä¸­æª¢æŸ¥çœ‹çœ‹ï¼Œé€™é‚Šsubmit taskçš„å‰ç½®ä½œæ¥­æˆ‘å°±ä¸è´…è¿°äº†ï¼Œè«‹è‡ªå·±åƒè€ƒrepo
```bash
scripts/submit_task.sh isaac-sim-volume-example \
"/run.sh \
  --download-src 'omniverse://$NUCLEUS_HOSTNAME/Projects/$FARM_USER/Isaac/4.5/Scripts/isaac-sim-simulation-example.py' \
  --download-dest '/src/isaac-sim-simulation-example.py' \
  'ls /mnt/nfs' \
  'mkdir -p /mnt/nfs/results' \
  './python.sh -u /src/isaac-sim-simulation-example.py 10' \
  'cp /results/isaac-sim-simulation-example.txt /mnt/nfs/results/isaac-sim-simulation-example.txt'" \
  "Isaac Sim Cube Fall"
```

å…¶ä¸­å¯ä»¥çœ‹åˆ°åŸ·è¡Œçš„éƒ¨åˆ†ï¼Œä¸€é–‹å§‹å…ˆåˆ—å‡ºvolume\(PV\)çš„å…§å®¹
```bash
  'ls /mnt/nfs' \
  'mkdir -p /mnt/nfs/results' \
  './python.sh -u /src/isaac-sim-simulation-example.py 10' \
  'cp /results/isaac-sim-simulation-example.txt /mnt/nfs/results/isaac-sim-simulation-example.txt'" \
```

ç†è«–ä¸Šæ‡‰è©²åœ¨logä¸­å¯ä»¥çœ‹è¦‹PVä¸­çš„å…§å®¹ï¼Œä¾‹å¦‚
```bash
+ ls /mnt/nfs
hello.txt
hi.txt
```

ç„¶å¾Œå¾ŒçºŒçš„éƒ¨åˆ†å¯ä»¥çœ‹åˆ°taskåœ¨PVä¸­å‰µå»ºä¸€å€‹è³‡æ–™å¤¾resultï¼ŒåŸ·è¡Œç‚ºè…³æœ¬å¾Œå†å°‡è¼¸å‡ºçš„æª”æ¡ˆè¤‡è£½åˆ°/mnt/nfs/resultä¸­ï¼Œç„¶å¾Œå°±ç›´æ¥é—œé–‰containerï¼Œä¸å†ä¸Šå‚³è³‡æ–™åˆ°nucleusäº†ã€‚

ç”šè‡³å¯ä»¥åšä¸€äº›é¨·æ“ä½œï¼Œç›´æ¥åˆ©ç”¨omnicliå»ç›´æ¥ä¸‹è¼‰nucleusæª”æ¡ˆåˆ°volume
```bash
scripts/submit_task.sh isaac-sim-volume-example \
"/run.sh \
  --download-src 'omniverse://$NUCLEUS_HOSTNAME/Users/gino_chang/rendering/' \
  --download-dest '/mnt/nfs/workspace' \
  'ls /mnt/nfs'" \
  "Copy files from nuclues to volume"
```

æ›è¨€ä¹‹ï¼Œå‡å¦‚æˆ‘å€‘æœ‰äº†volumeå¾Œæ ¹æœ¬ä¸éœ€è¦nucleusçš„è©±ï¼Œé‚£æˆ‘å€‘ä¹Ÿå°±æ ¹æœ¬ä¸éœ€è¦ä½¿ç”¨/run\.shï¼Œå› ç‚ºå®ƒæ˜¯ç‚ºäº†æˆ‘å€‘æ–¹ä¾¿åŸ·è¡Œè…³æœ¬å‰å¾Œä¸‹è¼‰ä¸Šå‚³è³‡æ–™åˆ°nucluesä¸Šï¼Œå› æ­¤taskå¯ä»¥ç°¡åŒ–æˆ
```bash
scripts/submit_task.sh vizuro-volume-example \
"python /mnt/nfs/rendering/render.py -c /mnt/nfs/rendering/config/taipei_1_volume_sample.yaml" "render 30x1000 images(512x512)"
```

æ ¹æ“šå®˜æ–¹æ–‡ä»¶è·Ÿrepoçš„æè¿°ï¼Œæˆ‘æƒ³Taipei\-1ä¸Šé€™å¥—omniverse farmæ‡‰è©²å°±æ˜¯åŸºæ–¼Kubernetesçš„ã€‚ [omni\-farm\-isaac](https://github.com/j3soon/omni-farm-isaac){:target="_blank"} æ‡‰è©²æœ¬ä¾†ä¹Ÿæ˜¯å…§éƒ¨ä½¿ç”¨çš„å·¥å…·ï¼Œå¾Œä¾†æ‰é–‹æ”¾å‡ºä¾†ï¼Œå› æ­¤è¨­è¨ˆä¸Šä¹Ÿæ¯”è¼ƒæ²’æœ‰å¤ªå¤šæ¬Šé™ç­‰é˜²è­·æ©Ÿåˆ¶ï¼Œä¸»è¦é‚„æ˜¯å„˜é‡æä¾›å½ˆæ€§çµ¦é–‹ç™¼è€…æ–¹ä¾¿ä½¿ç”¨ã€‚

æ›è¨€ä¹‹ï¼Œé€™äº›å·¥å…·ä¸ç¢ºå®šåœ¨TPE\-1ä»¥å¤–çš„æ©Ÿå™¨é©ä¸é©ç”¨ï¼Œå› ç‚ºè¨±å¤šå·¥å…·å¯èƒ½æ˜¯åŸºæ–¼ä¸€äº›è¨­å®šå¥½çš„ç’°å¢ƒï¼Œä¸éæˆ‘å€‘å¯ä»¥å¤§æ¦‚å°æ–¼æ•´å€‹ov farmç³»çµ±çš„é‹ä½œæœ‰ä¸€å€‹å¯¦éš›çš„èªè­˜ã€‚

æœ€å¾Œæ•´ç†ä¸€ä¸‹ä¸€äº›æˆ‘å¯¦éš›ä¸Šç”¨åˆ°çš„æŒ‡ä»¤ï¼ŒåŸºæœ¬ä¸Šåœ¨Windowsä¸Šæ˜¯ç”¨git bashè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤
```bash
cd ~/Workspace/Corvus/Taipei-1/omni-farm-isaac
source secrets/env.sh
```

è¨­å®šå¸³è™Ÿå¯†ç¢¼ç­‰ç’°å¢ƒï¼Œé€™æ¨£å¾ŒçºŒçš„job, taskæ‰èƒ½å¤ æˆåŠŸä¸Šå‚³ï¼Œé€™ä»¶äº‹æƒ…æ¯æ¬¡é‡æ–°é–‹ä¸€å€‹git bashéƒ½è¦åš
```bash
scripts/save_job.sh vizuro-volume-example
scripts/submit_task.sh vizuro-volume-example \
"python /mnt/nfs/rendering/render.py -c /mnt/nfs/rendering/config/taipei_1_volume_sample_batch_1.yaml" "render 30x10000 images(512x512)"
```

é€™å€‹ä¾‹å­æ˜¯ï¼Œæˆ‘å€‘submitçš„taskçš„jobåç¨±æ˜¯vizuro\-volume\-exampleï¼Œæ‡‰è©²è¦æœ‰å°æ‡‰çš„jsonï¼Œè©²taskåšçš„äº‹æƒ…ä¸»è¦æ˜¯åŸ·è¡Œåœ¨volumeä¸­çš„render\.pyï¼Œè©²è…³æœ¬ä½¿ç”¨ä¸€å€‹yamlä½œç‚ºargã€‚
```bash
scripts/save_job.sh isaac-sim-volume-example
scripts/submit_task.sh isaac-sim-volume-example \
"time ./python.sh /mnt/nfs/isaacsim-api/synthesizer/generate_with_replicator_by_json.py --texture-dir '/mnt/nfs/textures/**/*.JPEG' --environment-dir '/mnt/nfs/environment_maps/1K/*.hdr' --usd-dir '/mnt/nfs/meshes/sample30/*.usd' --output-dir '/mnt/nfs/result/sample30/isaac' --config '/mnt/nfs/isaacsim-api/synthesizer/rendering_config/yunyan_model.json'" "render 30x10 images(960x540) with isaac-sim"
```

å¦ä¸€å€‹ä¾‹å­æ˜¯ä½¿ç”¨volumeä¸­çš„isaac\-sim pythonè…³æœ¬ï¼Œå¤§è‡´ä¸Šå·®ä¸å¤š
```bash
scripts/save_job.sh isaac-sim-volume-example
scripts/submit_task.sh isaac-sim-volume-example \
"time ./isaac-sim.sh --allow-root --no-window --/omni/replicator/replicatorYaml/yamlPath=/mnt/nfs/isaacsim-api/synthesizer/simple_usd_synthesizer_volume.yaml" "render 50 images(1024x1024) with yaml workflow"
```

é€™æ˜¯ä½¿ç”¨Omniverseä¸­çš„Replicatorï¼Œç›´æ¥é€éyamlä¾†åŸ·è¡Œï¼Œä¸ç”¨å¯«è…³æœ¬
```bash
scripts/submit_task.sh isaac-sim-volume-example \
"time /run.sh \
  'ls /mnt/nfs' \
  './isaac-sim.sh --allow-root --no-window --/omni/replicator/replicatorYaml/yamlPath=/mnt/nfs/isaacsim-api/synthesizer/full_texture_usd_synthesizer_volume.yaml'" \
  "render 10000 images(1024x1024) with yaml workflow"
```

é€™ä¹Ÿæ˜¯é¡ä¼¼çš„ä¾‹å­ï¼Œç´°ç¯€å¯ä»¥åƒè€ƒ

[**Replicator YAML \- Omniverse Extensions**](https://docs.omniverse.nvidia.com/extensions/latest/ext_replicator/yaml_workflow.html){:target="_blank"} 
[_Replicator YAML is a streamlined workflow for creating Synthetic Data with Replicator and Omniverse\. The format usesâ€¦_ docs\.omniverse\.nvidia\.com](https://docs.omniverse.nvidia.com/extensions/latest/ext_replicator/yaml_workflow.html){:target="_blank"}

[**Replicator YAML Manual \- Omniverse Extensions**](https://docs.omniverse.nvidia.com/extensions/latest/ext_replicator/yaml_manual.html){:target="_blank"} 
[_NVIDIA Omniverse Launcher will be deprecated on October 1, 2025\. Visit here for more details\._ docs\.omniverse\.nvidia\.com](https://docs.omniverse.nvidia.com/extensions/latest/ext_replicator/yaml_manual.html){:target="_blank"}

å‰©ä¸‹çš„æ˜¯ä¸€äº›å…¶ä»–çš„ç¯„ä¾‹ï¼Œä½†æ˜¯å¤§è‡´é‚è¼¯éƒ½ç›¸åŒ
```
scripts/submit_task.sh isaac-sim-volume-example \
"./python.sh /mnt/nfs/isaacsim-api/synthesizer/test_file_patterns.py \
    --texture-pattern '/mnt/nfs/textures/**/*.JPEG' \
    --environment-pattern '/mnt/nfs/environment_maps/1K/*.hdr'" \
  "check textures and maps"
scripts/submit_task.sh isaac-sim-volume-example \
"./python.sh /mnt/nfs/isaacsim-api/synthesizer/generate_yaml_config.py \
     --texture-dir '/mnt/nfs/textures/**/*.JPEG' \
     --environment-dir '/mnt/nfs/environment_maps/1K/*.hdr' \
     --output-dir '/mnt/nfs/result/sample30/yaml' \
     --output-yaml '/mnt/nfs/result/sample30/.yaml'" \
  "check textures and maps"
```

æœ€å¾Œè£œå……ï¼Œæ€éº¼buildè‡ªå·±çš„imageï¼Œé€™å€‹éƒ¨åˆ†èˆ‡OV farmæ¯”è¼ƒæ²’æœ‰ç›´æ¥ç›¸é—œ
```bash
docker login
docker build -t maochinn/omni-farm-blender:3.6.14 .
docker push maochinn/omni-farm-blender:3.6.14
docker logout
```

æ„Ÿè¬ä½ çš„é–±è®€ï¼Œå¦‚æœä½ å°æˆ‘çš„æ–‡ç« å°ä½ æœ‰æ‰€å¹«åŠ©æˆ–æ˜¯æ„è¦‹æ­¡è¿å›è¦†ï¼Œå¦‚æœä½ æƒ³è¦æ”¯æŒæˆ‘å¯ä»¥ï¼š
- æ‹å€‹æ‰‹ğŸ‘‹ï¼Œæˆ–æ˜¯åˆ†äº«ä¸€äº›æƒ³æ³•ğŸ’¬
- [è¿½è¹¤æˆ‘çš„é é¢](https://medium.com/@maochinn){:target="_blank"}
- [è¨‚é–±æˆ‘çš„å°ˆæ¬„](https://medium.com/maochinn){:target="_blank"}
- [é€éLinkedInè¯ç¹«æˆ‘](https://www.linkedin.com/in/chih-wei-chang-6526801b2/){:target="_blank"}


æˆ–æ˜¯è§€çœ‹æˆ‘å…¶ä»–ç³»åˆ—æ–‡ç« 
- [ã€Omniverse Farmã€‘Omniverse Farmå­¸ç¿’ç­†è¨˜ â€” 00ï¼šOVX](../0fdb74ed85ce/)
- [ã€Omniverse Farmã€‘å­¸ç¿’ç­†è¨˜ â€” 01ï¼šUsing Movie Capture to Render](../1745b2c60c07/)
- [ã€Omniverseã€‘å­¸ç¿’ç­†è¨˜ â€” 00ï¼šKit\-based Development](../a54ae65f22bf/)
- [ã€Omniverseã€‘å­¸ç¿’ç­†è¨˜ â€” 03ï¼šOpenUSD](../be14a4a5704f/)



_[Post](https://medium.com/maochinn/omniverse-farm-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-02-taipei-1-f84e89d18c69){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._
