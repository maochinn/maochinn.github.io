<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="【電腦圖學】學習筆記 — 00：OpenGL" /><meta name="author" content="帽捲" /><meta property="og:locale" content="en" /><meta name="description" content="首先，什麼是電腦圖學？從廣義上來說，就是由電腦產生圖形到畫面的過程所牽涉到的所有領域，但如果要比較限縮範圍的舉例：玩具總動員就是第一部完全利用CG製作的動畫長片，那你大致會有一個概念，電腦圖學可以產生像是玩具總動員那類的3D模型的動畫。" /><meta property="og:description" content="首先，什麼是電腦圖學？從廣義上來說，就是由電腦產生圖形到畫面的過程所牽涉到的所有領域，但如果要比較限縮範圍的舉例：玩具總動員就是第一部完全利用CG製作的動畫長片，那你大致會有一個概念，電腦圖學可以產生像是玩具總動員那類的3D模型的動畫。" /><link rel="canonical" href="https://medium-to-jekyll-starter.zhgchg.li//posts/fa7105f59ecd/" /><meta property="og:url" content="https://medium-to-jekyll-starter.zhgchg.li//posts/fa7105f59ecd/" /><meta property="og:site_name" content="Medium To Jekyll Starter" /><meta property="og:image" content="https://medium-to-jekyll-starter.zhgchg.li//assets/fa7105f59ecd/0*7o-Uhnqd8u2Gc6FV.PNG" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-07-09T12:06:03+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://medium-to-jekyll-starter.zhgchg.li//assets/fa7105f59ecd/0*7o-Uhnqd8u2Gc6FV.PNG" /><meta property="twitter:title" content="【電腦圖學】學習筆記 — 00：OpenGL" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@帽捲" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"帽捲"},"dateModified":"2024-09-28T18:50:58+08:00","datePublished":"2020-07-09T12:06:03+08:00","description":"首先，什麼是電腦圖學？從廣義上來說，就是由電腦產生圖形到畫面的過程所牽涉到的所有領域，但如果要比較限縮範圍的舉例：玩具總動員就是第一部完全利用CG製作的動畫長片，那你大致會有一個概念，電腦圖學可以產生像是玩具總動員那類的3D模型的動畫。","headline":"【電腦圖學】學習筆記 — 00：OpenGL","image":"https://medium-to-jekyll-starter.zhgchg.li//assets/fa7105f59ecd/0*7o-Uhnqd8u2Gc6FV.PNG","mainEntityOfPage":{"@type":"WebPage","@id":"https://medium-to-jekyll-starter.zhgchg.li//posts/fa7105f59ecd/"},"url":"https://medium-to-jekyll-starter.zhgchg.li//posts/fa7105f59ecd/"}</script><title>【電腦圖學】學習筆記 — 00：OpenGL | Medium To Jekyll Starter</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Medium To Jekyll Starter"><meta name="application-name" content="Medium To Jekyll Starter"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Medium To Jekyll Starter</a><p class="site-subtitle fst-italic mb-0">A text-focused Jekyll theme</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/github_username" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['example','domain.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>【電腦圖學】學習筆記 — 00：OpenGL</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>【電腦圖學】學習筆記 — 00：OpenGL</h1><p class="post-desc fw-light mb-4">首先，什麼是電腦圖學？從廣義上來說，就是由電腦產生圖形到畫面的過程所牽涉到的所有領域，但如果要比較限縮範圍的舉例：玩具總動員就是第一部完全利用CG製作的動畫長片，那你大致會有一個概念，電腦圖學可以產生像是玩具總動員那類的3D模型的動畫。</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1594267563" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 9, 2020 </time> </span> <span> Updated <time data-ts="1727520658" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Sep 28, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/fa7105f59ecd/0*7o-Uhnqd8u2Gc6FV.PNG" class="popup img-link preview-img shimmer"><img src="/assets/fa7105f59ecd/0*7o-Uhnqd8u2Gc6FV.PNG" alt="Preview Image" width="1200" height="630" loading="lazy"></a></div><div class="d-flex justify-content-between"> <span> By <em> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3682 words" > <em>20 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">【電腦圖學】學習筆記 — 00：OpenGL</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">【電腦圖學】學習筆記 — 00：OpenGL</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h3 id="電腦圖學學習筆記--00opengl"><span class="me-2">【電腦圖學】學習筆記 — 00：OpenGL</span><a href="#電腦圖學學習筆記--00opengl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>首先，什麼是電腦圖學？從廣義上來說，就是由電腦產生圖形到畫面的過程所牽涉到的所有領域，但如果要比較限縮範圍的舉例：玩具總動員就是第一部完全利用CG製作的動畫長片，那你大致會有一個概念，電腦圖學可以產生像是玩具總動員那類的3D模型的動畫。</p><p><a href="https://www.youtube.com/watch?v=5TqPl3MSSow" target="_blank" class="img-link shimmer" ><img src="/assets/fa7105f59ecd/300a_hqdefault.jpg" alt="How are Characters Animated at Pixar? - Toy Story Behind the Scenes" title="How are Characters Animated at Pixar? - Toy Story Behind the Scenes" loading="lazy"></a></p><h3 id="引言"><span class="me-2">引言</span><a href="#引言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>那麼我們大概理解甚麼是電腦圖學之後，回到現實面，為甚麼大多數的CG的課程都會要學習OpenGL呢？這篇文章的目的是做一些電腦圖學的概論，並且一路連結到OpenGL。</p><p>先說結論，OpenGL就是一個專門處理圖形的 <strong>函式庫</strong> ，因此， <strong>OpenGL</strong> 就是一種 <strong>電腦圖學</strong> 中 <strong>Rendering</strong> 的實現，反過來說，電腦圖學也有其他的實現方式，因此也會有其他的圖形函式庫存在，但是，在教學上，我們常用 <strong>OpenGL的實作來理解電腦圖學的理論</strong> 。</p><blockquote><p><strong><em>目錄</em></strong></p></blockquote><p>3D Computer Graphics Graphics Pipeline OpenGL GPU</p><h3 id="3d-computer-graphics"><span class="me-2">3D Computer Graphics</span><a href="#3d-computer-graphics" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>電腦圖學(Computer Graphics, CG)，雖然簡稱是CG，但這邊也不是指 <strong>電繪</strong> 或者是 <strong>數位繪圖( <em>Digital Painting</em> ) (</strong> 我絕對不是因為誤會而去修這門課的)，其中，比較狹義的理解CG通常就是針對三維的CG，如 <a href="https://en.wikipedia.org/wiki/3D_computer_graphics" target="_blank">wiki</a> 所描述，3D computer graphics production workflow falls into three basic phases:</p><ol><li><a href="https://en.wikipedia.org/wiki/3D_modeling" target="_blank"><strong>3D modeling</strong></a> — the process of forming a computer model of an object’s shape<li><strong>Layout and <a href="https://en.wikipedia.org/wiki/Computer_animation" target="_blank">CGI animation</a></strong> — the placement and movement of objects (models, lights etc. ) within a scene<li><a href="https://en.wikipedia.org/wiki/3D_rendering" target="_blank"><strong>3D rendering</strong></a> — the computer calculations that, based on light placement, surface types, and other qualities, generate (rasterize the scene into) an image</ol><p>簡單來說，就以3D動畫為例，其構成類似於拍攝現場，場景中會需要模型、燈光、攝影機等，但是在電腦中場景中的所有元素都是虛擬數位化的，因此模型需要 <strong>建模(modeling</strong> )才可以得到，模型與燈光需要 <strong>布置(Layout)</strong> 在虛擬的場景中，攝影機「拍攝」場景的過程則是 <strong>算繪(Rendering)。</strong></p><h3 id="3d-modeling"><span class="me-2"><strong><em>3D Modeling</em></strong></span><a href="#3d-modeling" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>我們可以理解成「產生出3D模型的過程」，例如： <strong>人工建模</strong> 、 <strong>程序化建模(Procedure Modeling)</strong> 以及 <strong>重建(Reconstruction)</strong> 等，除了模型的幾何資訊之外也包含貼圖(texture)、材質(Material)之類的資訊，總之就是把模型在三維空間中定義出來，對應的軟體像是Maya, Solidworks等。</p><p>另外，模型的表示形式也會影響如何modeling，例如：我們用人工拉出來的模型通常是 <strong>網格(mesh)</strong> ，用照片重建出來的模型則常會是所謂的 <strong>點雲(point cloud)。</strong> 無論是如何建模或是模型本身都有細分很多領域，每個領域也都是個大哉問。</p><p><a href="/assets/fa7105f59ecd/0*7o-Uhnqd8u2Gc6FV.PNG" class="popup img-link shimmer"><img src="/assets/fa7105f59ecd/0*7o-Uhnqd8u2Gc6FV.PNG" alt="" loading="lazy"></a></p><p>建完模之後就會得到 <strong>3D模型網格(mesh)</strong> ，就要把這些物件、攝影機放在場景之中，或者是加入時間因素，也就是某個時間某個物件要放在場景的哪裡，事實上，這就是動畫。</p><h3 id="layout-and-cgi-animation"><span class="me-2"><strong><em>Layout and CGI animation</em></strong></span><a href="#layout-and-cgi-animation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>跟modeling類似，這個領域也是有分 <strong>人工做的、程式生成的</strong> 從 <strong>現實重建</strong> 的，前者可能是人依照自己的經驗，用傳統2D動畫的知識去拉關鍵幀，中者則可能是有了關鍵幀後用電腦去內插補幀，可能是在3D補也可能像現在用AI在2D補，後者透過動作捕捉來從現實中重建動畫。</p><p>通常來說，三者會混合使用，因為我們總希望從現實演員得到動畫，並且能夠人為干涉，並且給定關鍵幀直接用程式計算中間的動作，總之，每個領域也都有許多技術。</p><p>那麼在一切都Layout完成之後我們就要利用攝影機「拍攝」場景，或者是說將場景中資訊「繪畫」到螢幕上，這就是 <strong>Rendering</strong> 。</p><h3 id="3d-rendering"><span class="me-2"><strong><em>3D Rendering</em></strong></span><a href="#3d-rendering" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong><em>Rendering</em></strong> 可能會翻譯成 <strong>渲染、算繪、彩現</strong> ，根據定義上 <strong>算繪</strong> 是比較好的翻譯，但大部分文章跟口語的習慣上會翻成 <strong>渲染。</strong></p><p>概念上來說，我們會在將在虛擬場景中的3D模型，設定好的光源、相機等各種物件，將模型「繪畫」到畫面上，最重要的是，無論在Modeling的過程當中或是調整Layout的過程中其實都會需要用到Rendering，因為人通常會在一個圖形化的介面中調整物件，也就是在調整的過程當中都需要顯示到畫面上。</p><p>因此，無論是哪個細分領域，Rendering是絕對需要的部分，而且也會簡單的碰觸到所謂的模型、燈光、布局等基本概念，因此，在教學上都會先講述Rendering的概念，而在實作上Rendering其實就是一個流水線，我們會稱之為Rendering Pipeline或是 <strong>Graphics pipeline</strong> 。</p><h3 id="graphics-pipeline"><span class="me-2">Graphics Pipeline</span><a href="#graphics-pipeline" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>根據 <a href="https://en.wikipedia.org/wiki/Graphics_pipeline" target="_blank">wiki</a> 在整個流水線中我們大致可以分成三個部分Application、Geometry、Rasterization，簡單來說就是透過這三個步驟將場景render到畫面上。</p><p><a href="/assets/fa7105f59ecd/0*DOD0E0zQ6kipG6MT.png" class="popup img-link shimmer"><img src="/assets/fa7105f59ecd/0*DOD0E0zQ6kipG6MT.png" alt="A graphics pipeline can be divided into three main parts: Application, Geometry and Rasterization" loading="lazy"></a></p><p>A graphics pipeline can be divided into three main parts: Application, Geometry and Rasterization</p><blockquote><p><strong><em>Application</em></strong></p></blockquote><p>簡單來說就將前面提到的布局後的結果，因為不一定所有的布局都是off-line設定好的，可能會有部分的資訊是run-time產生的，換言之，每一幀的資訊可能會動態產生變化，例如：物理計算(也就是物理引擎)。</p><p>若從執行的單位來看，這部分的計算大多數是在CPU，等將所有場景資訊更新完後就會將資料傳入GPU，進入下一個階段。(為甚麼要傳入GPU後面會解釋)。</p><blockquote><p><strong><em>Geometry</em></strong></p></blockquote><p>簡單來說，就是將場景中的模型、燈光等依據Application給的 <strong>空間資訊，</strong> 應用在模型、燈光上，因為這個步驟通常做的都是空間上的位移、旋轉、縮放，也就是做 <strong>幾何(Geometry)</strong> 上的 <strong>轉換(Transformation)。</strong></p><p>在流程上其實就是把上一個步驟從CPU來的資訊在GPU中進一步計算，在所有三維的transformation都結束後，要將結果畫到畫面上，也就是要將就要將三維的資訊轉換到二維的平面上，也就是 <strong>Rasterization(光柵化)。</strong></p><blockquote><p><strong><em>Rasterization</em></strong></p></blockquote><p>概念上來說，你可以想像我們要將三維的模型 <strong>「壓扁」</strong> 成二維的平面，或者我們可以說，將三維的物體 <strong>投影(Project)</strong> 到二維的畫面上，那在電腦中，我們要把場景中連續、精準的點、線、面用相對離散的像素表示，因為最終我們都需要顯示成pixel-based的圖片，換言之，這個步驟就是將浮點數資訊轉換到整數的2D array。</p><p><a href="/assets/fa7105f59ecd/0*2FwW6xAVfssQfrVY.GIF" class="popup img-link shimmer"><img src="/assets/fa7105f59ecd/0*2FwW6xAVfssQfrVY.GIF" alt="" loading="lazy"></a></p><p>那麼在實作上又是怎麼回事呢？因為兩個步驟做的事情一定程度上都是固定的，因此為了避免重複寫類似的程式碼，就會有不同的函式庫來實作這些流程，那其中一個函式庫就是OpenGL。</p><h3 id="opengl"><span class="me-2">OpenGL</span><a href="#opengl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://ref.gamer.com.tw/redir.php?url=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2FOpenGL" target="_blank"><strong>OpenGL</strong></a> （英語： <em>Open Graphics Library</em> ，譯名： <strong>開放圖形庫</strong> 或者「開放式圖形庫」），總之就是一個函式庫，也有很多以此衍伸的函式庫，而針對 <strong>Geometry</strong> 與 <strong>Rasterization</strong> 的部分在OpenGL對應的就是 <strong>Vertex pipeline</strong> 跟 <strong>Fragment pipeline。</strong></p><p><a href="/assets/fa7105f59ecd/0*xblm1F6sUAxLDB81.png" class="popup img-link shimmer"><img src="/assets/fa7105f59ecd/0*xblm1F6sUAxLDB81.png" alt="" loading="lazy"></a></p><p>以上圖來舉例，模型通常由一系列的頂點(Vertex)所組成，並且把她連成三角形，當然這個三角形都是使用者自己決定怎麼連，這個步驟我們可以稱做 <strong>Vertex pipeline</strong> ，這個步驟多半也會伴隨很多 <strong>幾何(Geometry)</strong> 的變換。之後的 <strong>Fragment pipeline</strong> 會將三角形用fragment表示以及計算每個fragment的顏色，這是因為現在大部分的圖片儲存和螢幕顯示都是用pixel來表示，因此這個步驟會包含 <strong>Rasterization。</strong></p><blockquote><p>補充一下，在不正式的情況下，rasterization中的 <strong>raster</strong> 和 <strong>pixel</strong> 是差不多的，而 <strong>fragment</strong> 也與 <strong>pixel</strong> 差不多意思，不同主要是詞的來源不同，這個解釋會牽涉到其他專有名詞，為了不失焦這邊就不解釋，歡迎後續補充。</p></blockquote><p>從上面的流程可以發現，有一些的名詞不知道是什麼意思，例如Vertex shader、Fragment shader、Testing以及Blending，但是可以發現整個流程都是固定的，差別是一開始輸入的Vertex以及 <strong>uniform state</strong> 有差，Vertex可以理解就是模型，那 <strong>uniform state</strong> 是什麼呢？</p><p>簡單來說，以上圖舉例，我們可以設定這個三角形的顏色要由黃綠紅所組成，因此我們可以傳顏色的資訊進入某個步驟中，事實上，OpenGL有大量常數用來設定每個步驟所需的參數，因此，你也可以想像這是一台龐大的 <strong>狀態機(State Machine)</strong> ，而你只需要透過OpenGL的API設定想要的參數即可，換言之就是設定一些 <strong>固定的狀態(uniform state)</strong></p><p>因此，使用OpenGL的函式多半跟一般函式庫的函式不同，並非是呼叫CPU做某件事，而是在一個已經建構好的 <strong>圖形管線(Graphic pipeline)</strong> 中更改參數，或者說設定 <strong>狀態(State)</strong> ，好處是，這變得相當容易，你不需要自己建構流程，你只需要依照給定的規則設定即可，壞處是，因為流程固定，因此較無彈性以及優化空間，我們會稱之為 <a href="https://www.sciencedirect.com/topics/computer-science/fixed-function-pipeline" target="_blank"><strong>Fixed Function Pipeline</strong></a> 。</p><p>與之相對的則是 <strong>可程式化流程(Programmable Pipeline)</strong> ，也就是將部分流程中的步驟開放給程式員自己寫，例如流程中看到的 <strong>Vertex shader</strong> 、 <strong>Fragment shader</strong> ，因此現代的OpenGL會長這個樣子。</p><p><a href="/assets/fa7105f59ecd/1*pFCmesqglWPHwCQQHQUuqQ.png" class="popup img-link shimmer"><img src="/assets/fa7105f59ecd/1*pFCmesqglWPHwCQQHQUuqQ.png" alt="" loading="lazy"></a></p><p>重點是中間仍然有一個固定的流程，只是被細分成更多，而能夠從外部設定的參數也變得更多，換言之，隨著彈性變大，OpenGL也變得更複雜，但其核心依舊不變，因此，通常從教學的角度，通常會從所謂的OpenGL1.x開始教，因為你只需要懂一部份的東西就可以render出東西在畫面上。</p><p>因此， <strong>Rendering</strong> 通常需要一個由Vertex定義的模型，那麼通常這樣的模型會是一個三角網格，經過上述的流水線畫到顯示裝置，其中會經過無數的轉換(Transformation)，包含在幾何空間上的轉換以及色彩的轉換，而這些轉換通常會在顯示卡中運行。</p><p><a href="/assets/fa7105f59ecd/0*dFM282AhERfSZ9TA.png" class="popup img-link shimmer"><img src="/assets/fa7105f59ecd/0*dFM282AhERfSZ9TA.png" alt="3D Mesh" loading="lazy"></a></p><p>3D Mesh</p><p>那至於為甚麼要畫三角形？這有歷史的因素，也有點像雞生蛋，蛋生雞的問題，因為現在看見的3D模型大多數都是由無數的三角面所構成，所以我們會以此為單位render，反過來說，也是因為rendering流程設計成以三角形為單位，所以模型才以此為單位定義，總之， <strong>只要會畫三角面，就可以畫出所有種類的東西。</strong></p><p>而在Rendering的過程中我們已經知道會要進行一些Transformation，或者說要進行大量的計算，因此，我們就來談談GPU。</p><h3 id="gpu"><span class="me-2">GPU</span><a href="#gpu" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>首先，前面有提到，電腦顯現出任何圖形都是經過一連串的計算 <em>，</em> 簡單來說，就是將一堆Vertex的資訊經過一連串的計算最後顯示到螢幕上，這樣的過程在過去是使用CPU來運算，可以想像，CPU需要逐個計算每個像素的顏色。另一方面，GPU的作法則是一口氣計算所有像素的顏色。</p><p><a href="https://www.youtube.com/watch?v=-P28LKWTzrI" target="_blank">Mythbusters Demo GPU versus CPU</a></p><p>如上的影片所呈現的，對於rendering來說GPU明顯是更適合的解決方案，因為在整個pipeline原則上是以vertex或是pixel為單位下去跑的，每個vertex或是pixel彼此獨立互不影響，但所經過的計算的步驟是一樣的，所以我們可以把每個pixel丟下去進行平行運算。因此我大學的指導教授常常這樣跟我講</p><blockquote><p>「大量簡單的運算可以打敗單一複雜的運算，屢試不爽」</p></blockquote><p>這算是CG中的一個主流的發展方向，因為GPU帶來的 <strong>加速</strong> 是非常顯著的，在圖學中，我們會稱用GPU計算為 <strong>Hardware acceleration( <a href="https://zh.wikipedia.org/wiki/%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F" target="_blank">硬體加速</a> )</strong> 。</p><p>這邊補充說明一下GPU好了，GPU是顯示卡中負責運算的單位，其中有大量的 <em>ALU(運算單元)</em> ，你可以想像成每個ALU會負責計算一個像素的顏色，而事實上，如果你把計算的過程寫成程式碼，你就會發現它是一連串的矩陣運算，因此，你也會發現為甚麼CG領域會用到很多4x4的矩陣或是4x1的向量，因為ALU最多就是支援的4x4的矩陣運算，包含許多的 <strong>Transformation</strong> 。</p><p>總而言之，GPU的架構很適合拿來做大量平行簡單的運算，但你也可以說，當初就是發現rendering有這樣的特性，所以才開發出GPU。</p><h3 id="延伸閱讀"><span class="me-2">延伸閱讀</span><a href="#延伸閱讀" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="../ea46dedf01f9/">電腦圖學01-Transformation</a></p><p><a href="https://medium.com/maochinn/%E5%9C%96%E8%88%87%E7%95%AB-%E5%BE%9E%E9%9B%BB%E8%85%A6%E5%9C%96%E5%AD%B8%E7%9C%8B%E6%95%B8%E4%BD%8D%E7%BE%8E%E8%A1%93-ccd7e8ef7536?source=---------0-----------------------" target="_blank">【圖與畫】從電腦圖學看數位美術</a></p><h3 id="歡迎斗內鼓勵我繼續寫相關文章"><span class="me-2">歡迎斗內鼓勵我繼續寫相關文章！</span><a href="#歡迎斗內鼓勵我繼續寫相關文章" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/fa7105f59ecd/0*L5ba0sCrAzeC4VDU.png" class="popup img-link shimmer"><img src="/assets/fa7105f59ecd/0*L5ba0sCrAzeC4VDU.png" alt="" loading="lazy"></a></p><h4 id="related-link"><span class="me-2">Related link</span><a href="#related-link" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Interactive computer graphics A Top-Down Approach Using OpenGL Third Edition</p><p><a href="https://en.wikipedia.org/wiki/3D_computer_graphics" target="_blank" class="img-link shimmer" ><img src="https://upload.wikimedia.org/wikipedia/commons/6/6d/Activemarker2.PNG" alt="" loading="lazy"></a></p><p><a href="https://en.wikipedia.org/wiki/Graphics_pipeline" target="_blank"><strong>Graphics pipeline</strong></a> <a href="https://en.wikipedia.org/wiki/Graphics_pipeline" target="_blank"><em>In computer graphics, a computer graphics pipeline, rendering pipeline or simply graphics pipeline, is a conceptual…</em> en.wikipedia.org</a></p><p><a href="https://slideplayer.com/slide/9416887/" target="_blank" class="img-link shimmer" ><img src="https://pp.one/static/images/general/og-image.webp" alt="" loading="lazy"></a></p><h3 id="延伸閱讀-1"><span class="me-2">延伸閱讀</span><a href="#延伸閱讀-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://medium.com/maochinn/%E9%9B%BB%E8%85%A6%E5%9C%96%E5%AD%B801-transformation-%E6%96%BD%E5%B7%A5%E4%B8%AD-ea46dedf01f9?source=---------19-----------------------" target="_blank">【電腦圖學】學習筆記 — 01：Transformation</a></p><p><a href="https://medium.com/maochinn/unity-multipass-rendering-7b98d6e88641?source=---------1-----------------------" target="_blank">【Unity】Multipass Rendering</a></p><p><a href="https://medium.com/maochinn/blender-geometry-node-%E5%83%8F%E7%B4%A0%E9%A2%A8-1870e1ad5fc3?source=---------4-----------------------" target="_blank">【Blender】Geometry Node 像素風</a></p><p><a href="https://medium.com/maochinn/omniverse-%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98-00-kit-based-development-a54ae65f22bf?source=---------0-----------------------" target="_blank">【Omniverse】學習筆記 — 00：Kit-based Development</a></p><p><a href="https://medium.com/maochinn/%E7%AD%86%E8%A8%98-differentiable-rendering-264c31c43921?source=---------9-----------------------" target="_blank">【</a> <a href="https://medium.com/maochinn/%E9%9B%BB%E8%85%A6%E5%9C%96%E5%AD%B801-transformation-%E6%96%BD%E5%B7%A5%E4%B8%AD-ea46dedf01f9?source=---------19-----------------------" target="_blank">電腦圖學</a> <a href="https://medium.com/maochinn/%E7%AD%86%E8%A8%98-differentiable-rendering-264c31c43921?source=---------9-----------------------" target="_blank">】Differentiable Rendering</a></p><p><em><a href="https://medium.com/maochinn/%E9%9B%BB%E8%85%A6%E5%9C%96%E5%AD%B800-opengl-fa7105f59ecd" target="_blank">Post</a> converted from Medium by <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a>.</em></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/maochinn/">Maochinn</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/computer-graphics/" class="post-tag no-text-decoration" >computer-graphics</a> <a href="/tags/%E9%9B%BB%E8%85%A6%E5%9C%96%E5%AD%B8/" class="post-tag no-text-decoration" >電腦圖學</a> <a href="/tags/%E8%A8%88%E7%AE%97%E6%A9%9F%E5%9C%96%E5%BD%A2%E5%AD%B8/" class="post-tag no-text-decoration" >計算機圖形學</a> <a href="/tags/opengl/" class="post-tag no-text-decoration" >opengl</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%E3%80%90%E9%9B%BB%E8%85%A6%E5%9C%96%E5%AD%B8%E3%80%91%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98%E2%80%8A%E2%80%94%E2%80%8A00%EF%BC%9AOpenGL%20-%20Medium%20To%20Jekyll%20Starter&url=https%3A%2F%2Fmedium-to-jekyll-starter.zhgchg.li%2F%2Fposts%2Ffa7105f59ecd%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%E3%80%90%E9%9B%BB%E8%85%A6%E5%9C%96%E5%AD%B8%E3%80%91%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98%E2%80%8A%E2%80%94%E2%80%8A00%EF%BC%9AOpenGL%20-%20Medium%20To%20Jekyll%20Starter&u=https%3A%2F%2Fmedium-to-jekyll-starter.zhgchg.li%2F%2Fposts%2Ffa7105f59ecd%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fmedium-to-jekyll-starter.zhgchg.li%2F%2Fposts%2Ffa7105f59ecd%2F&text=%E3%80%90%E9%9B%BB%E8%85%A6%E5%9C%96%E5%AD%B8%E3%80%91%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98%E2%80%8A%E2%80%94%E2%80%8A00%EF%BC%9AOpenGL%20-%20Medium%20To%20Jekyll%20Starter" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/83f3d470b656/">【自動化】學習筆記 — 01：硬體</a><li class="text-truncate lh-lg"> <a href="/posts/de28dc8582ec/">【自動化】學習筆記 — 00</a><li class="text-truncate lh-lg"> <a href="/posts/6560b300f03c/">【工作】NVIDIA GTC Taipai 2025 — Day 0：Building Digital Twins for Physical AI With NVIDIA Omniverse</a><li class="text-truncate lh-lg"> <a href="/posts/230d146467b3/">【工作】NVIDIA GTC Taipai 2025 — Day 1：Manufacturing sessions</a><li class="text-truncate lh-lg"> <a href="/posts/616f6e63db42/">【工作】NVIDIA GTC Taipai 2025 — Day 2：Physical Al and Robotics Sessions</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/computer-graphics/">computer-graphics</a> <a class="post-tag btn btn-outline-primary" href="/tags/omniverse/">omniverse</a> <a class="post-tag btn btn-outline-primary" href="/tags/digital-art/">digital-art</a> <a class="post-tag btn btn-outline-primary" href="/tags/nvidia/">nvidia</a> <a class="post-tag btn btn-outline-primary" href="/tags/blender/">blender</a> <a class="post-tag btn btn-outline-primary" href="/tags/krenz/">krenz</a> <a class="post-tag btn btn-outline-primary" href="/tags/business-trip/">business-trip</a> <a class="post-tag btn btn-outline-primary" href="/tags/siggraph/">siggraph</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%9B%BB%E8%85%A6%E5%9C%96%E5%AD%B8/">電腦圖學</a> <a class="post-tag btn btn-outline-primary" href="/tags/cosmos/">cosmos</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/93752bbd3f7/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1617092734" data-df="ll" > Mar 30, 2021 </time><h4 class="pt-0 my-2">【筆記】Frame Buffer Object</h4><div class="text-muted"><p>這邊是遇坑紀錄</p></div></div></a></article><article class="col"> <a href="/posts/dee562610e71/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1614940353" data-df="ll" > Mar 5, 2021 </time><h4 class="pt-0 my-2">【筆記】Camera</h4><div class="text-muted"><p>這邊紀錄一下Pytorch3D的camera，這篇會順便把一些camera的東西順便複習一下。</p></div></div></a></article><article class="col"> <a href="/posts/5a9ddb95cdc7/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1610702662" data-df="ll" > Jan 15, 2021 </time><h4 class="pt-0 my-2">【AR】OpenGL + OpenCV</h4><div class="text-muted"><p>//搬運中...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/e9c52dca714f/" class="btn btn-outline-primary" aria-label="Older" ><p>Radiosity(施工中)</p></a> <a href="/posts/338c2109989d/" class="btn btn-outline-primary" aria-label="Newer" ><p>FLTK Project Maze</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://twitter.com/username">your_full_name</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.3.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.<br/> Automatically sync posts from Medium with <a href="https://zhgchg.li/posts/en-medium-to-jekyll/" target="_blank">ZhgChg.Li</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/computer-graphics/">computer-graphics</a> <a class="post-tag btn btn-outline-primary" href="/tags/omniverse/">omniverse</a> <a class="post-tag btn btn-outline-primary" href="/tags/digital-art/">digital-art</a> <a class="post-tag btn btn-outline-primary" href="/tags/nvidia/">nvidia</a> <a class="post-tag btn btn-outline-primary" href="/tags/blender/">blender</a> <a class="post-tag btn btn-outline-primary" href="/tags/krenz/">krenz</a> <a class="post-tag btn btn-outline-primary" href="/tags/business-trip/">business-trip</a> <a class="post-tag btn btn-outline-primary" href="/tags/siggraph/">siggraph</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E9%9B%BB%E8%85%A6%E5%9C%96%E5%AD%B8/">電腦圖學</a> <a class="post-tag btn btn-outline-primary" href="/tags/cosmos/">cosmos</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
